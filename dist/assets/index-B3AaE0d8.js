(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ih(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Wu={exports:{}},si={},qu={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Br=Symbol.for("react.element"),$h=Symbol.for("react.portal"),Lh=Symbol.for("react.fragment"),Dh=Symbol.for("react.strict_mode"),Mh=Symbol.for("react.profiler"),Uh=Symbol.for("react.provider"),zh=Symbol.for("react.context"),Fh=Symbol.for("react.forward_ref"),Bh=Symbol.for("react.suspense"),Hh=Symbol.for("react.memo"),Vh=Symbol.for("react.lazy"),pl=Symbol.iterator;function Kh(t){return t===null||typeof t!="object"?null:(t=pl&&t[pl]||t["@@iterator"],typeof t=="function"?t:null)}var Ju={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gu=Object.assign,Qu={};function Wn(t,e,n){this.props=t,this.context=e,this.refs=Qu,this.updater=n||Ju}Wn.prototype.isReactComponent={};Wn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Xu(){}Xu.prototype=Wn.prototype;function uo(t,e,n){this.props=t,this.context=e,this.refs=Qu,this.updater=n||Ju}var co=uo.prototype=new Xu;co.constructor=uo;Gu(co,Wn.prototype);co.isPureReactComponent=!0;var ml=Array.isArray,Yu=Object.prototype.hasOwnProperty,ho={current:null},Zu={key:!0,ref:!0,__self:!0,__source:!0};function ec(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Yu.call(e,r)&&!Zu.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Br,type:t,key:i,ref:a,props:s,_owner:ho.current}}function Wh(t,e){return{$$typeof:Br,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fo(t){return typeof t=="object"&&t!==null&&t.$$typeof===Br}function qh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gl=/\/+/g;function Ci(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qh(""+t.key):e.toString(36)}function ws(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Br:case $h:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Ci(a,0):r,ml(s)?(n="",t!=null&&(n=t.replace(gl,"$&/")+"/"),ws(s,e,n,"",function(c){return c})):s!=null&&(fo(s)&&(s=Wh(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(gl,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",ml(t))for(var l=0;l<t.length;l++){i=t[l];var u=r+Ci(i,l);a+=ws(i,e,n,u,s)}else if(u=Kh(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=r+Ci(i,l++),a+=ws(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Zr(t,e,n){if(t==null)return t;var r=[],s=0;return ws(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Jh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var we={current:null},xs={transition:null},Gh={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:xs,ReactCurrentOwner:ho};function tc(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:Zr,forEach:function(t,e,n){Zr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zr(t,function(){e++}),e},toArray:function(t){return Zr(t,function(e){return e})||[]},only:function(t){if(!fo(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=Wn;U.Fragment=Lh;U.Profiler=Mh;U.PureComponent=uo;U.StrictMode=Dh;U.Suspense=Bh;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gh;U.act=tc;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Gu({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=ho.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Yu.call(e,u)&&!Zu.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Br,type:t.type,key:s,ref:i,props:r,_owner:a}};U.createContext=function(t){return t={$$typeof:zh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Uh,_context:t},t.Consumer=t};U.createElement=ec;U.createFactory=function(t){var e=ec.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:Fh,render:t}};U.isValidElement=fo;U.lazy=function(t){return{$$typeof:Vh,_payload:{_status:-1,_result:t},_init:Jh}};U.memo=function(t,e){return{$$typeof:Hh,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=xs.transition;xs.transition={};try{t()}finally{xs.transition=e}};U.unstable_act=tc;U.useCallback=function(t,e){return we.current.useCallback(t,e)};U.useContext=function(t){return we.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return we.current.useDeferredValue(t)};U.useEffect=function(t,e){return we.current.useEffect(t,e)};U.useId=function(){return we.current.useId()};U.useImperativeHandle=function(t,e,n){return we.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return we.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return we.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return we.current.useMemo(t,e)};U.useReducer=function(t,e,n){return we.current.useReducer(t,e,n)};U.useRef=function(t){return we.current.useRef(t)};U.useState=function(t){return we.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return we.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return we.current.useTransition()};U.version="18.3.1";qu.exports=U;var C=qu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh=C,Xh=Symbol.for("react.element"),Yh=Symbol.for("react.fragment"),Zh=Object.prototype.hasOwnProperty,ef=Qh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tf={key:!0,ref:!0,__self:!0,__source:!0};function nc(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Zh.call(e,r)&&!tf.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Xh,type:t,key:i,ref:a,props:s,_owner:ef.current}}si.Fragment=Yh;si.jsx=nc;si.jsxs=nc;Wu.exports=si;var o=Wu.exports,rc={exports:{}},Re={},sc={exports:{}},ic={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(E,P){var I=E.length;E.push(P);e:for(;0<I;){var R=I-1>>>1,G=E[R];if(0<s(G,P))E[R]=P,E[I]=G,I=R;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var P=E[0],I=E.pop();if(I!==P){E[0]=I;e:for(var R=0,G=E.length,Xr=G>>>1;R<Xr;){var Ht=2*(R+1)-1,Ei=E[Ht],Vt=Ht+1,Yr=E[Vt];if(0>s(Ei,I))Vt<G&&0>s(Yr,Ei)?(E[R]=Yr,E[Vt]=I,R=Vt):(E[R]=Ei,E[Ht]=I,R=Ht);else if(Vt<G&&0>s(Yr,I))E[R]=Yr,E[Vt]=I,R=Vt;else break e}}return P}function s(E,P){var I=E.sortIndex-P.sortIndex;return I!==0?I:E.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,p=null,h=3,y=!1,w=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(E){for(var P=n(c);P!==null;){if(P.callback===null)r(c);else if(P.startTime<=E)r(c),P.sortIndex=P.expirationTime,e(u,P);else break;P=n(c)}}function x(E){if(v=!1,g(E),!w)if(n(u)!==null)w=!0,A(k);else{var P=n(c);P!==null&&D(x,P.startTime-E)}}function k(E,P){w=!1,v&&(v=!1,m(O),O=-1),y=!0;var I=h;try{for(g(P),p=n(u);p!==null&&(!(p.expirationTime>P)||E&&!ge());){var R=p.callback;if(typeof R=="function"){p.callback=null,h=p.priorityLevel;var G=R(p.expirationTime<=P);P=t.unstable_now(),typeof G=="function"?p.callback=G:p===n(u)&&r(u),g(P)}else r(u);p=n(u)}if(p!==null)var Xr=!0;else{var Ht=n(c);Ht!==null&&D(x,Ht.startTime-P),Xr=!1}return Xr}finally{p=null,h=I,y=!1}}var j=!1,b=null,O=-1,z=5,L=-1;function ge(){return!(t.unstable_now()-L<z)}function Ie(){if(b!==null){var E=t.unstable_now();L=E;var P=!0;try{P=b(!0,E)}finally{P?Xe():(j=!1,b=null)}}else j=!1}var Xe;if(typeof f=="function")Xe=function(){f(Ie)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,_=Ye.port2;Ye.port1.onmessage=Ie,Xe=function(){_.postMessage(null)}}else Xe=function(){S(Ie,0)};function A(E){b=E,j||(j=!0,Xe())}function D(E,P){O=S(function(){E(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,A(k))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(E){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var I=h;h=P;try{return E()}finally{h=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,P){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var I=h;h=E;try{return P()}finally{h=I}},t.unstable_scheduleCallback=function(E,P,I){var R=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?R+I:R):I=R,E){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=I+G,E={id:d++,callback:P,priorityLevel:E,startTime:I,expirationTime:G,sortIndex:-1},I>R?(E.sortIndex=I,e(c,E),n(u)===null&&E===n(c)&&(v?(m(O),O=-1):v=!0,D(x,I-R))):(E.sortIndex=G,e(u,E),w||y||(w=!0,A(k))),E},t.unstable_shouldYield=ge,t.unstable_wrapCallback=function(E){var P=h;return function(){var I=h;h=P;try{return E.apply(this,arguments)}finally{h=I}}}})(ic);sc.exports=ic;var nf=sc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rf=C,Oe=nf;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ac=new Set,Sr={};function un(t,e){Mn(t,e),Mn(t+"Capture",e)}function Mn(t,e){for(Sr[t]=e,t=0;t<e.length;t++)ac.add(e[t])}var ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oa=Object.prototype.hasOwnProperty,sf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yl={},vl={};function af(t){return oa.call(vl,t)?!0:oa.call(yl,t)?!1:sf.test(t)?vl[t]=!0:(yl[t]=!0,!1)}function of(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lf(t,e,n,r){if(e===null||typeof e>"u"||of(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xe(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ce[t]=new xe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ce[e]=new xe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ce[t]=new xe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ce[t]=new xe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ce[t]=new xe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ce[t]=new xe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ce[t]=new xe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ce[t]=new xe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ce[t]=new xe(t,5,!1,t.toLowerCase(),null,!1,!1)});var po=/[\-:]([a-z])/g;function mo(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(po,mo);ce[e]=new xe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(po,mo);ce[e]=new xe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(po,mo);ce[e]=new xe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ce[t]=new xe(t,1,!1,t.toLowerCase(),null,!1,!1)});ce.xlinkHref=new xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ce[t]=new xe(t,1,!1,t.toLowerCase(),null,!0,!0)});function go(t,e,n,r){var s=ce.hasOwnProperty(e)?ce[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lf(e,n,s,r)&&(n=null),r||s===null?af(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yt=rf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,es=Symbol.for("react.element"),xn=Symbol.for("react.portal"),_n=Symbol.for("react.fragment"),yo=Symbol.for("react.strict_mode"),la=Symbol.for("react.profiler"),oc=Symbol.for("react.provider"),lc=Symbol.for("react.context"),vo=Symbol.for("react.forward_ref"),ua=Symbol.for("react.suspense"),ca=Symbol.for("react.suspense_list"),wo=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),uc=Symbol.for("react.offscreen"),wl=Symbol.iterator;function Yn(t){return t===null||typeof t!="object"?null:(t=wl&&t[wl]||t["@@iterator"],typeof t=="function"?t:null)}var Y=Object.assign,Ti;function or(t){if(Ti===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ti=e&&e[1]||""}return`
`+Ti+t}var Pi=!1;function Oi(t,e){if(!t||Pi)return"";Pi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var u=`
`+s[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=l);break}}}finally{Pi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?or(t):""}function uf(t){switch(t.tag){case 5:return or(t.type);case 16:return or("Lazy");case 13:return or("Suspense");case 19:return or("SuspenseList");case 0:case 2:case 15:return t=Oi(t.type,!1),t;case 11:return t=Oi(t.type.render,!1),t;case 1:return t=Oi(t.type,!0),t;default:return""}}function da(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _n:return"Fragment";case xn:return"Portal";case la:return"Profiler";case yo:return"StrictMode";case ua:return"Suspense";case ca:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lc:return(t.displayName||"Context")+".Consumer";case oc:return(t._context.displayName||"Context")+".Provider";case vo:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wo:return e=t.displayName||null,e!==null?e:da(t.type)||"Memo";case _t:e=t._payload,t=t._init;try{return da(t(e))}catch{}}return null}function cf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return da(e);case 8:return e===yo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function df(t){var e=cc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ts(t){t._valueTracker||(t._valueTracker=df(t))}function dc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Os(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ha(t,e){var n=e.checked;return Y({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xl(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Dt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hc(t,e){e=e.checked,e!=null&&go(t,"checked",e,!1)}function fa(t,e){hc(t,e);var n=Dt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pa(t,e.type,n):e.hasOwnProperty("defaultValue")&&pa(t,e.type,Dt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _l(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pa(t,e,n){(e!=="number"||Os(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lr=Array.isArray;function Rn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Dt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ma(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return Y({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kl(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(lr(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Dt(n)}}function fc(t,e){var n=Dt(e.value),r=Dt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jl(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ga(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ns,mc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ns=ns||document.createElement("div"),ns.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ns.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hf=["Webkit","ms","Moz","O"];Object.keys(fr).forEach(function(t){hf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fr[e]=fr[t]})});function gc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fr.hasOwnProperty(t)&&fr[t]?(""+e).trim():e+"px"}function yc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=gc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var ff=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ya(t,e){if(e){if(ff[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function va(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wa=null;function xo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xa=null,An=null,In=null;function Sl(t){if(t=Kr(t)){if(typeof xa!="function")throw Error(N(280));var e=t.stateNode;e&&(e=ui(e),xa(t.stateNode,t.type,e))}}function vc(t){An?In?In.push(t):In=[t]:An=t}function wc(){if(An){var t=An,e=In;if(In=An=null,Sl(t),e)for(t=0;t<e.length;t++)Sl(e[t])}}function xc(t,e){return t(e)}function _c(){}var Ri=!1;function kc(t,e,n){if(Ri)return t(e,n);Ri=!0;try{return xc(t,e,n)}finally{Ri=!1,(An!==null||In!==null)&&(_c(),wc())}}function br(t,e){var n=t.stateNode;if(n===null)return null;var r=ui(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var _a=!1;if(ft)try{var Zn={};Object.defineProperty(Zn,"passive",{get:function(){_a=!0}}),window.addEventListener("test",Zn,Zn),window.removeEventListener("test",Zn,Zn)}catch{_a=!1}function pf(t,e,n,r,s,i,a,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var pr=!1,Rs=null,As=!1,ka=null,mf={onError:function(t){pr=!0,Rs=t}};function gf(t,e,n,r,s,i,a,l,u){pr=!1,Rs=null,pf.apply(mf,arguments)}function yf(t,e,n,r,s,i,a,l,u){if(gf.apply(this,arguments),pr){if(pr){var c=Rs;pr=!1,Rs=null}else throw Error(N(198));As||(As=!0,ka=c)}}function cn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nl(t){if(cn(t)!==t)throw Error(N(188))}function vf(t){var e=t.alternate;if(!e){if(e=cn(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Nl(s),t;if(i===r)return Nl(s),e;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function Sc(t){return t=vf(t),t!==null?Nc(t):null}function Nc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Nc(t);if(e!==null)return e;t=t.sibling}return null}var bc=Oe.unstable_scheduleCallback,bl=Oe.unstable_cancelCallback,wf=Oe.unstable_shouldYield,xf=Oe.unstable_requestPaint,ee=Oe.unstable_now,_f=Oe.unstable_getCurrentPriorityLevel,_o=Oe.unstable_ImmediatePriority,Ec=Oe.unstable_UserBlockingPriority,Is=Oe.unstable_NormalPriority,kf=Oe.unstable_LowPriority,Cc=Oe.unstable_IdlePriority,ii=null,nt=null;function jf(t){if(nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(ii,t,void 0,(t.current.flags&128)===128)}catch{}}var Je=Math.clz32?Math.clz32:bf,Sf=Math.log,Nf=Math.LN2;function bf(t){return t>>>=0,t===0?32:31-(Sf(t)/Nf|0)|0}var rs=64,ss=4194304;function ur(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $s(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=ur(l):(i&=a,i!==0&&(r=ur(i)))}else a=n&~s,a!==0?r=ur(a):i!==0&&(r=ur(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Je(e),s=1<<n,r|=t[n],e&=~s;return r}function Ef(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Je(i),l=1<<a,u=s[a];u===-1?(!(l&n)||l&r)&&(s[a]=Ef(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function ja(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tc(){var t=rs;return rs<<=1,!(rs&4194240)&&(rs=64),t}function Ai(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Je(e),t[e]=n}function Tf(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Je(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ko(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Je(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var B=0;function Pc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Oc,jo,Rc,Ac,Ic,Sa=!1,is=[],Tt=null,Pt=null,Ot=null,Er=new Map,Cr=new Map,St=[],Pf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function El(t,e){switch(t){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Er.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cr.delete(e.pointerId)}}function er(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Kr(e),e!==null&&jo(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Of(t,e,n,r,s){switch(e){case"focusin":return Tt=er(Tt,t,e,n,r,s),!0;case"dragenter":return Pt=er(Pt,t,e,n,r,s),!0;case"mouseover":return Ot=er(Ot,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Er.set(i,er(Er.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Cr.set(i,er(Cr.get(i)||null,t,e,n,r,s)),!0}return!1}function $c(t){var e=Yt(t.target);if(e!==null){var n=cn(e);if(n!==null){if(e=n.tag,e===13){if(e=jc(n),e!==null){t.blockedOn=e,Ic(t.priority,function(){Rc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _s(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Na(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wa=r,n.target.dispatchEvent(r),wa=null}else return e=Kr(n),e!==null&&jo(e),t.blockedOn=n,!1;e.shift()}return!0}function Cl(t,e,n){_s(t)&&n.delete(e)}function Rf(){Sa=!1,Tt!==null&&_s(Tt)&&(Tt=null),Pt!==null&&_s(Pt)&&(Pt=null),Ot!==null&&_s(Ot)&&(Ot=null),Er.forEach(Cl),Cr.forEach(Cl)}function tr(t,e){t.blockedOn===e&&(t.blockedOn=null,Sa||(Sa=!0,Oe.unstable_scheduleCallback(Oe.unstable_NormalPriority,Rf)))}function Tr(t){function e(s){return tr(s,t)}if(0<is.length){tr(is[0],t);for(var n=1;n<is.length;n++){var r=is[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Tt!==null&&tr(Tt,t),Pt!==null&&tr(Pt,t),Ot!==null&&tr(Ot,t),Er.forEach(e),Cr.forEach(e),n=0;n<St.length;n++)r=St[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<St.length&&(n=St[0],n.blockedOn===null);)$c(n),n.blockedOn===null&&St.shift()}var $n=yt.ReactCurrentBatchConfig,Ls=!0;function Af(t,e,n,r){var s=B,i=$n.transition;$n.transition=null;try{B=1,So(t,e,n,r)}finally{B=s,$n.transition=i}}function If(t,e,n,r){var s=B,i=$n.transition;$n.transition=null;try{B=4,So(t,e,n,r)}finally{B=s,$n.transition=i}}function So(t,e,n,r){if(Ls){var s=Na(t,e,n,r);if(s===null)Hi(t,e,r,Ds,n),El(t,r);else if(Of(s,t,e,n,r))r.stopPropagation();else if(El(t,r),e&4&&-1<Pf.indexOf(t)){for(;s!==null;){var i=Kr(s);if(i!==null&&Oc(i),i=Na(t,e,n,r),i===null&&Hi(t,e,r,Ds,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Hi(t,e,r,null,n)}}var Ds=null;function Na(t,e,n,r){if(Ds=null,t=xo(r),t=Yt(t),t!==null)if(e=cn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ds=t,null}function Lc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_f()){case _o:return 1;case Ec:return 4;case Is:case kf:return 16;case Cc:return 536870912;default:return 16}default:return 16}}var Et=null,No=null,ks=null;function Dc(){if(ks)return ks;var t,e=No,n=e.length,r,s="value"in Et?Et.value:Et.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return ks=s.slice(t,1<r?1-r:void 0)}function js(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function as(){return!0}function Tl(){return!1}function Ae(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?as:Tl,this.isPropagationStopped=Tl,this}return Y(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),e}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bo=Ae(qn),Vr=Y({},qn,{view:0,detail:0}),$f=Ae(Vr),Ii,$i,nr,ai=Y({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eo,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nr&&(nr&&t.type==="mousemove"?(Ii=t.screenX-nr.screenX,$i=t.screenY-nr.screenY):$i=Ii=0,nr=t),Ii)},movementY:function(t){return"movementY"in t?t.movementY:$i}}),Pl=Ae(ai),Lf=Y({},ai,{dataTransfer:0}),Df=Ae(Lf),Mf=Y({},Vr,{relatedTarget:0}),Li=Ae(Mf),Uf=Y({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),zf=Ae(Uf),Ff=Y({},qn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bf=Ae(Ff),Hf=Y({},qn,{data:0}),Ol=Ae(Hf),Vf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Wf[t])?!!e[t]:!1}function Eo(){return qf}var Jf=Y({},Vr,{key:function(t){if(t.key){var e=Vf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=js(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eo,charCode:function(t){return t.type==="keypress"?js(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?js(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gf=Ae(Jf),Qf=Y({},ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rl=Ae(Qf),Xf=Y({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eo}),Yf=Ae(Xf),Zf=Y({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ep=Ae(Zf),tp=Y({},ai,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),np=Ae(tp),rp=[9,13,27,32],Co=ft&&"CompositionEvent"in window,mr=null;ft&&"documentMode"in document&&(mr=document.documentMode);var sp=ft&&"TextEvent"in window&&!mr,Mc=ft&&(!Co||mr&&8<mr&&11>=mr),Al=" ",Il=!1;function Uc(t,e){switch(t){case"keyup":return rp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kn=!1;function ip(t,e){switch(t){case"compositionend":return zc(e);case"keypress":return e.which!==32?null:(Il=!0,Al);case"textInput":return t=e.data,t===Al&&Il?null:t;default:return null}}function ap(t,e){if(kn)return t==="compositionend"||!Co&&Uc(t,e)?(t=Dc(),ks=No=Et=null,kn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Mc&&e.locale!=="ko"?null:e.data;default:return null}}var op={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $l(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!op[t.type]:e==="textarea"}function Fc(t,e,n,r){vc(r),e=Ms(e,"onChange"),0<e.length&&(n=new bo("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var gr=null,Pr=null;function lp(t){Yc(t,0)}function oi(t){var e=Nn(t);if(dc(e))return t}function up(t,e){if(t==="change")return e}var Bc=!1;if(ft){var Di;if(ft){var Mi="oninput"in document;if(!Mi){var Ll=document.createElement("div");Ll.setAttribute("oninput","return;"),Mi=typeof Ll.oninput=="function"}Di=Mi}else Di=!1;Bc=Di&&(!document.documentMode||9<document.documentMode)}function Dl(){gr&&(gr.detachEvent("onpropertychange",Hc),Pr=gr=null)}function Hc(t){if(t.propertyName==="value"&&oi(Pr)){var e=[];Fc(e,Pr,t,xo(t)),kc(lp,e)}}function cp(t,e,n){t==="focusin"?(Dl(),gr=e,Pr=n,gr.attachEvent("onpropertychange",Hc)):t==="focusout"&&Dl()}function dp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oi(Pr)}function hp(t,e){if(t==="click")return oi(e)}function fp(t,e){if(t==="input"||t==="change")return oi(e)}function pp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qe=typeof Object.is=="function"?Object.is:pp;function Or(t,e){if(Qe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!oa.call(e,s)||!Qe(t[s],e[s]))return!1}return!0}function Ml(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ul(t,e){var n=Ml(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ml(n)}}function Vc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Vc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Kc(){for(var t=window,e=Os();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Os(t.document)}return e}function To(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mp(t){var e=Kc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Vc(n.ownerDocument.documentElement,n)){if(r!==null&&To(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ul(n,i);var a=Ul(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gp=ft&&"documentMode"in document&&11>=document.documentMode,jn=null,ba=null,yr=null,Ea=!1;function zl(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ea||jn==null||jn!==Os(r)||(r=jn,"selectionStart"in r&&To(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yr&&Or(yr,r)||(yr=r,r=Ms(ba,"onSelect"),0<r.length&&(e=new bo("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=jn)))}function os(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sn={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionend:os("Transition","TransitionEnd")},Ui={},Wc={};ft&&(Wc=document.createElement("div").style,"AnimationEvent"in window||(delete Sn.animationend.animation,delete Sn.animationiteration.animation,delete Sn.animationstart.animation),"TransitionEvent"in window||delete Sn.transitionend.transition);function li(t){if(Ui[t])return Ui[t];if(!Sn[t])return t;var e=Sn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Wc)return Ui[t]=e[n];return t}var qc=li("animationend"),Jc=li("animationiteration"),Gc=li("animationstart"),Qc=li("transitionend"),Xc=new Map,Fl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ut(t,e){Xc.set(t,e),un(e,[t])}for(var zi=0;zi<Fl.length;zi++){var Fi=Fl[zi],yp=Fi.toLowerCase(),vp=Fi[0].toUpperCase()+Fi.slice(1);Ut(yp,"on"+vp)}Ut(qc,"onAnimationEnd");Ut(Jc,"onAnimationIteration");Ut(Gc,"onAnimationStart");Ut("dblclick","onDoubleClick");Ut("focusin","onFocus");Ut("focusout","onBlur");Ut(Qc,"onTransitionEnd");Mn("onMouseEnter",["mouseout","mouseover"]);Mn("onMouseLeave",["mouseout","mouseover"]);Mn("onPointerEnter",["pointerout","pointerover"]);Mn("onPointerLeave",["pointerout","pointerover"]);un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));un("onBeforeInput",["compositionend","keypress","textInput","paste"]);un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wp=new Set("cancel close invalid load scroll toggle".split(" ").concat(cr));function Bl(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yf(r,e,void 0,t),t.currentTarget=null}function Yc(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Bl(s,l,c),i=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Bl(s,l,c),i=u}}}if(As)throw t=ka,As=!1,ka=null,t}function W(t,e){var n=e[Ra];n===void 0&&(n=e[Ra]=new Set);var r=t+"__bubble";n.has(r)||(Zc(e,t,2,!1),n.add(r))}function Bi(t,e,n){var r=0;e&&(r|=4),Zc(n,t,r,e)}var ls="_reactListening"+Math.random().toString(36).slice(2);function Rr(t){if(!t[ls]){t[ls]=!0,ac.forEach(function(n){n!=="selectionchange"&&(wp.has(n)||Bi(n,!1,t),Bi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ls]||(e[ls]=!0,Bi("selectionchange",!1,e))}}function Zc(t,e,n,r){switch(Lc(e)){case 1:var s=Af;break;case 4:s=If;break;default:s=So}n=s.bind(null,e,n,t),s=void 0,!_a||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Hi(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Yt(l),a===null)return;if(u=a.tag,u===5||u===6){r=i=a;continue e}l=l.parentNode}}r=r.return}kc(function(){var c=i,d=xo(n),p=[];e:{var h=Xc.get(t);if(h!==void 0){var y=bo,w=t;switch(t){case"keypress":if(js(n)===0)break e;case"keydown":case"keyup":y=Gf;break;case"focusin":w="focus",y=Li;break;case"focusout":w="blur",y=Li;break;case"beforeblur":case"afterblur":y=Li;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Yf;break;case qc:case Jc:case Gc:y=zf;break;case Qc:y=ep;break;case"scroll":y=$f;break;case"wheel":y=np;break;case"copy":case"cut":case"paste":y=Bf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Rl}var v=(e&4)!==0,S=!v&&t==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var f=c,g;f!==null;){g=f;var x=g.stateNode;if(g.tag===5&&x!==null&&(g=x,m!==null&&(x=br(f,m),x!=null&&v.push(Ar(f,x,g)))),S)break;f=f.return}0<v.length&&(h=new y(h,w,null,n,d),p.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==wa&&(w=n.relatedTarget||n.fromElement)&&(Yt(w)||w[pt]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=c,w=w?Yt(w):null,w!==null&&(S=cn(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=c),y!==w)){if(v=Pl,x="onMouseLeave",m="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(v=Rl,x="onPointerLeave",m="onPointerEnter",f="pointer"),S=y==null?h:Nn(y),g=w==null?h:Nn(w),h=new v(x,f+"leave",y,n,d),h.target=S,h.relatedTarget=g,x=null,Yt(d)===c&&(v=new v(m,f+"enter",w,n,d),v.target=g,v.relatedTarget=S,x=v),S=x,y&&w)t:{for(v=y,m=w,f=0,g=v;g;g=hn(g))f++;for(g=0,x=m;x;x=hn(x))g++;for(;0<f-g;)v=hn(v),f--;for(;0<g-f;)m=hn(m),g--;for(;f--;){if(v===m||m!==null&&v===m.alternate)break t;v=hn(v),m=hn(m)}v=null}else v=null;y!==null&&Hl(p,h,y,v,!1),w!==null&&S!==null&&Hl(p,S,w,v,!0)}}e:{if(h=c?Nn(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var k=up;else if($l(h))if(Bc)k=fp;else{k=dp;var j=cp}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=hp);if(k&&(k=k(t,c))){Fc(p,k,n,d);break e}j&&j(t,h,c),t==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&pa(h,"number",h.value)}switch(j=c?Nn(c):window,t){case"focusin":($l(j)||j.contentEditable==="true")&&(jn=j,ba=c,yr=null);break;case"focusout":yr=ba=jn=null;break;case"mousedown":Ea=!0;break;case"contextmenu":case"mouseup":case"dragend":Ea=!1,zl(p,n,d);break;case"selectionchange":if(gp)break;case"keydown":case"keyup":zl(p,n,d)}var b;if(Co)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else kn?Uc(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(Mc&&n.locale!=="ko"&&(kn||O!=="onCompositionStart"?O==="onCompositionEnd"&&kn&&(b=Dc()):(Et=d,No="value"in Et?Et.value:Et.textContent,kn=!0)),j=Ms(c,O),0<j.length&&(O=new Ol(O,t,null,n,d),p.push({event:O,listeners:j}),b?O.data=b:(b=zc(n),b!==null&&(O.data=b)))),(b=sp?ip(t,n):ap(t,n))&&(c=Ms(c,"onBeforeInput"),0<c.length&&(d=new Ol("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=b))}Yc(p,e)})}function Ar(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ms(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=br(t,n),i!=null&&r.unshift(Ar(t,i,s)),i=br(t,e),i!=null&&r.push(Ar(t,i,s))),t=t.return}return r}function hn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hl(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=br(n,i),u!=null&&a.unshift(Ar(n,u,l))):s||(u=br(n,i),u!=null&&a.push(Ar(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var xp=/\r\n?/g,_p=/\u0000|\uFFFD/g;function Vl(t){return(typeof t=="string"?t:""+t).replace(xp,`
`).replace(_p,"")}function us(t,e,n){if(e=Vl(e),Vl(t)!==e&&n)throw Error(N(425))}function Us(){}var Ca=null,Ta=null;function Pa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Oa=typeof setTimeout=="function"?setTimeout:void 0,kp=typeof clearTimeout=="function"?clearTimeout:void 0,Kl=typeof Promise=="function"?Promise:void 0,jp=typeof queueMicrotask=="function"?queueMicrotask:typeof Kl<"u"?function(t){return Kl.resolve(null).then(t).catch(Sp)}:Oa;function Sp(t){setTimeout(function(){throw t})}function Vi(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Tr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Tr(e)}function Rt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wl(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jn=Math.random().toString(36).slice(2),tt="__reactFiber$"+Jn,Ir="__reactProps$"+Jn,pt="__reactContainer$"+Jn,Ra="__reactEvents$"+Jn,Np="__reactListeners$"+Jn,bp="__reactHandles$"+Jn;function Yt(t){var e=t[tt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pt]||n[tt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wl(t);t!==null;){if(n=t[tt])return n;t=Wl(t)}return e}t=n,n=t.parentNode}return null}function Kr(t){return t=t[tt]||t[pt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Nn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function ui(t){return t[Ir]||null}var Aa=[],bn=-1;function zt(t){return{current:t}}function q(t){0>bn||(t.current=Aa[bn],Aa[bn]=null,bn--)}function K(t,e){bn++,Aa[bn]=t.current,t.current=e}var Mt={},me=zt(Mt),Ne=zt(!1),rn=Mt;function Un(t,e){var n=t.type.contextTypes;if(!n)return Mt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function be(t){return t=t.childContextTypes,t!=null}function zs(){q(Ne),q(me)}function ql(t,e,n){if(me.current!==Mt)throw Error(N(168));K(me,e),K(Ne,n)}function ed(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(N(108,cf(t)||"Unknown",s));return Y({},n,r)}function Fs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mt,rn=me.current,K(me,t),K(Ne,Ne.current),!0}function Jl(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=ed(t,e,rn),r.__reactInternalMemoizedMergedChildContext=t,q(Ne),q(me),K(me,t)):q(Ne),K(Ne,n)}var lt=null,ci=!1,Ki=!1;function td(t){lt===null?lt=[t]:lt.push(t)}function Ep(t){ci=!0,td(t)}function Ft(){if(!Ki&&lt!==null){Ki=!0;var t=0,e=B;try{var n=lt;for(B=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}lt=null,ci=!1}catch(s){throw lt!==null&&(lt=lt.slice(t+1)),bc(_o,Ft),s}finally{B=e,Ki=!1}}return null}var En=[],Cn=0,Bs=null,Hs=0,$e=[],Le=0,sn=null,ut=1,ct="";function Jt(t,e){En[Cn++]=Hs,En[Cn++]=Bs,Bs=t,Hs=e}function nd(t,e,n){$e[Le++]=ut,$e[Le++]=ct,$e[Le++]=sn,sn=t;var r=ut;t=ct;var s=32-Je(r)-1;r&=~(1<<s),n+=1;var i=32-Je(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,ut=1<<32-Je(e)+s|n<<s|r,ct=i+t}else ut=1<<i|n<<s|r,ct=t}function Po(t){t.return!==null&&(Jt(t,1),nd(t,1,0))}function Oo(t){for(;t===Bs;)Bs=En[--Cn],En[Cn]=null,Hs=En[--Cn],En[Cn]=null;for(;t===sn;)sn=$e[--Le],$e[Le]=null,ct=$e[--Le],$e[Le]=null,ut=$e[--Le],$e[Le]=null}var Pe=null,Te=null,J=!1,qe=null;function rd(t,e){var n=De(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gl(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pe=t,Te=Rt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pe=t,Te=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=sn!==null?{id:ut,overflow:ct}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=De(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pe=t,Te=null,!0):!1;default:return!1}}function Ia(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $a(t){if(J){var e=Te;if(e){var n=e;if(!Gl(t,e)){if(Ia(t))throw Error(N(418));e=Rt(n.nextSibling);var r=Pe;e&&Gl(t,e)?rd(r,n):(t.flags=t.flags&-4097|2,J=!1,Pe=t)}}else{if(Ia(t))throw Error(N(418));t.flags=t.flags&-4097|2,J=!1,Pe=t}}}function Ql(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pe=t}function cs(t){if(t!==Pe)return!1;if(!J)return Ql(t),J=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pa(t.type,t.memoizedProps)),e&&(e=Te)){if(Ia(t))throw sd(),Error(N(418));for(;e;)rd(t,e),e=Rt(e.nextSibling)}if(Ql(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Te=Rt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Te=null}}else Te=Pe?Rt(t.stateNode.nextSibling):null;return!0}function sd(){for(var t=Te;t;)t=Rt(t.nextSibling)}function zn(){Te=Pe=null,J=!1}function Ro(t){qe===null?qe=[t]:qe.push(t)}var Cp=yt.ReactCurrentBatchConfig;function rr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function ds(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xl(t){var e=t._init;return e(t._payload)}function id(t){function e(m,f){if(t){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function n(m,f){if(!t)return null;for(;f!==null;)e(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function s(m,f){return m=Lt(m,f),m.index=0,m.sibling=null,m}function i(m,f,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,f,g,x){return f===null||f.tag!==6?(f=Yi(g,m.mode,x),f.return=m,f):(f=s(f,g),f.return=m,f)}function u(m,f,g,x){var k=g.type;return k===_n?d(m,f,g.props.children,x,g.key):f!==null&&(f.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===_t&&Xl(k)===f.type)?(x=s(f,g.props),x.ref=rr(m,f,g),x.return=m,x):(x=Ps(g.type,g.key,g.props,null,m.mode,x),x.ref=rr(m,f,g),x.return=m,x)}function c(m,f,g,x){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Zi(g,m.mode,x),f.return=m,f):(f=s(f,g.children||[]),f.return=m,f)}function d(m,f,g,x,k){return f===null||f.tag!==7?(f=nn(g,m.mode,x,k),f.return=m,f):(f=s(f,g),f.return=m,f)}function p(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Yi(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case es:return g=Ps(f.type,f.key,f.props,null,m.mode,g),g.ref=rr(m,null,f),g.return=m,g;case xn:return f=Zi(f,m.mode,g),f.return=m,f;case _t:var x=f._init;return p(m,x(f._payload),g)}if(lr(f)||Yn(f))return f=nn(f,m.mode,g,null),f.return=m,f;ds(m,f)}return null}function h(m,f,g,x){var k=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:l(m,f,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case es:return g.key===k?u(m,f,g,x):null;case xn:return g.key===k?c(m,f,g,x):null;case _t:return k=g._init,h(m,f,k(g._payload),x)}if(lr(g)||Yn(g))return k!==null?null:d(m,f,g,x,null);ds(m,g)}return null}function y(m,f,g,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(g)||null,l(f,m,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case es:return m=m.get(x.key===null?g:x.key)||null,u(f,m,x,k);case xn:return m=m.get(x.key===null?g:x.key)||null,c(f,m,x,k);case _t:var j=x._init;return y(m,f,g,j(x._payload),k)}if(lr(x)||Yn(x))return m=m.get(g)||null,d(f,m,x,k,null);ds(f,x)}return null}function w(m,f,g,x){for(var k=null,j=null,b=f,O=f=0,z=null;b!==null&&O<g.length;O++){b.index>O?(z=b,b=null):z=b.sibling;var L=h(m,b,g[O],x);if(L===null){b===null&&(b=z);break}t&&b&&L.alternate===null&&e(m,b),f=i(L,f,O),j===null?k=L:j.sibling=L,j=L,b=z}if(O===g.length)return n(m,b),J&&Jt(m,O),k;if(b===null){for(;O<g.length;O++)b=p(m,g[O],x),b!==null&&(f=i(b,f,O),j===null?k=b:j.sibling=b,j=b);return J&&Jt(m,O),k}for(b=r(m,b);O<g.length;O++)z=y(b,m,O,g[O],x),z!==null&&(t&&z.alternate!==null&&b.delete(z.key===null?O:z.key),f=i(z,f,O),j===null?k=z:j.sibling=z,j=z);return t&&b.forEach(function(ge){return e(m,ge)}),J&&Jt(m,O),k}function v(m,f,g,x){var k=Yn(g);if(typeof k!="function")throw Error(N(150));if(g=k.call(g),g==null)throw Error(N(151));for(var j=k=null,b=f,O=f=0,z=null,L=g.next();b!==null&&!L.done;O++,L=g.next()){b.index>O?(z=b,b=null):z=b.sibling;var ge=h(m,b,L.value,x);if(ge===null){b===null&&(b=z);break}t&&b&&ge.alternate===null&&e(m,b),f=i(ge,f,O),j===null?k=ge:j.sibling=ge,j=ge,b=z}if(L.done)return n(m,b),J&&Jt(m,O),k;if(b===null){for(;!L.done;O++,L=g.next())L=p(m,L.value,x),L!==null&&(f=i(L,f,O),j===null?k=L:j.sibling=L,j=L);return J&&Jt(m,O),k}for(b=r(m,b);!L.done;O++,L=g.next())L=y(b,m,O,L.value,x),L!==null&&(t&&L.alternate!==null&&b.delete(L.key===null?O:L.key),f=i(L,f,O),j===null?k=L:j.sibling=L,j=L);return t&&b.forEach(function(Ie){return e(m,Ie)}),J&&Jt(m,O),k}function S(m,f,g,x){if(typeof g=="object"&&g!==null&&g.type===_n&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case es:e:{for(var k=g.key,j=f;j!==null;){if(j.key===k){if(k=g.type,k===_n){if(j.tag===7){n(m,j.sibling),f=s(j,g.props.children),f.return=m,m=f;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===_t&&Xl(k)===j.type){n(m,j.sibling),f=s(j,g.props),f.ref=rr(m,j,g),f.return=m,m=f;break e}n(m,j);break}else e(m,j);j=j.sibling}g.type===_n?(f=nn(g.props.children,m.mode,x,g.key),f.return=m,m=f):(x=Ps(g.type,g.key,g.props,null,m.mode,x),x.ref=rr(m,f,g),x.return=m,m=x)}return a(m);case xn:e:{for(j=g.key;f!==null;){if(f.key===j)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(m,f.sibling),f=s(f,g.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else e(m,f);f=f.sibling}f=Zi(g,m.mode,x),f.return=m,m=f}return a(m);case _t:return j=g._init,S(m,f,j(g._payload),x)}if(lr(g))return w(m,f,g,x);if(Yn(g))return v(m,f,g,x);ds(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(m,f.sibling),f=s(f,g),f.return=m,m=f):(n(m,f),f=Yi(g,m.mode,x),f.return=m,m=f),a(m)):n(m,f)}return S}var Fn=id(!0),ad=id(!1),Vs=zt(null),Ks=null,Tn=null,Ao=null;function Io(){Ao=Tn=Ks=null}function $o(t){var e=Vs.current;q(Vs),t._currentValue=e}function La(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ln(t,e){Ks=t,Ao=Tn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Se=!0),t.firstContext=null)}function ze(t){var e=t._currentValue;if(Ao!==t)if(t={context:t,memoizedValue:e,next:null},Tn===null){if(Ks===null)throw Error(N(308));Tn=t,Ks.dependencies={lanes:0,firstContext:t}}else Tn=Tn.next=t;return e}var Zt=null;function Lo(t){Zt===null?Zt=[t]:Zt.push(t)}function od(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Lo(e)):(n.next=s.next,s.next=n),e.interleaved=n,mt(t,r)}function mt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var kt=!1;function Do(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ld(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function At(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,F&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,mt(t,n)}return s=r.interleaved,s===null?(e.next=e,Lo(r)):(e.next=s.next,s.next=e),r.interleaved=e,mt(t,n)}function Ss(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ko(t,n)}}function Yl(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ws(t,e,n,r){var s=t.updateQueue;kt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;a=0,d=c=u=null,l=i;do{var h=l.lane,y=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,v=l;switch(h=e,y=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){p=w.call(y,p,h);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,h=typeof w=="function"?w.call(y,p,h):w,h==null)break e;p=Y({},p,h);break e;case 2:kt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else y={eventTime:y,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=y,u=p):d=d.next=y,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(u=p),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);on|=a,t.lanes=a,t.memoizedState=p}}function Zl(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var Wr={},rt=zt(Wr),$r=zt(Wr),Lr=zt(Wr);function en(t){if(t===Wr)throw Error(N(174));return t}function Mo(t,e){switch(K(Lr,e),K($r,t),K(rt,Wr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ga(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ga(e,t)}q(rt),K(rt,e)}function Bn(){q(rt),q($r),q(Lr)}function ud(t){en(Lr.current);var e=en(rt.current),n=ga(e,t.type);e!==n&&(K($r,t),K(rt,n))}function Uo(t){$r.current===t&&(q(rt),q($r))}var Q=zt(0);function qs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wi=[];function zo(){for(var t=0;t<Wi.length;t++)Wi[t]._workInProgressVersionPrimary=null;Wi.length=0}var Ns=yt.ReactCurrentDispatcher,qi=yt.ReactCurrentBatchConfig,an=0,X=null,ne=null,ie=null,Js=!1,vr=!1,Dr=0,Tp=0;function de(){throw Error(N(321))}function Fo(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qe(t[n],e[n]))return!1;return!0}function Bo(t,e,n,r,s,i){if(an=i,X=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ns.current=t===null||t.memoizedState===null?Ap:Ip,t=n(r,s),vr){i=0;do{if(vr=!1,Dr=0,25<=i)throw Error(N(301));i+=1,ie=ne=null,e.updateQueue=null,Ns.current=$p,t=n(r,s)}while(vr)}if(Ns.current=Gs,e=ne!==null&&ne.next!==null,an=0,ie=ne=X=null,Js=!1,e)throw Error(N(300));return t}function Ho(){var t=Dr!==0;return Dr=0,t}function et(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?X.memoizedState=ie=t:ie=ie.next=t,ie}function Fe(){if(ne===null){var t=X.alternate;t=t!==null?t.memoizedState:null}else t=ne.next;var e=ie===null?X.memoizedState:ie.next;if(e!==null)ie=e,ne=t;else{if(t===null)throw Error(N(310));ne=t,t={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},ie===null?X.memoizedState=ie=t:ie=ie.next=t}return ie}function Mr(t,e){return typeof e=="function"?e(t):e}function Ji(t){var e=Fe(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=ne,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,u=null,c=i;do{var d=c.lane;if((an&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,a=r):u=u.next=p,X.lanes|=d,on|=d}c=c.next}while(c!==null&&c!==i);u===null?a=r:u.next=l,Qe(r,e.memoizedState)||(Se=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,X.lanes|=i,on|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gi(t){var e=Fe(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Qe(i,e.memoizedState)||(Se=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function cd(){}function dd(t,e){var n=X,r=Fe(),s=e(),i=!Qe(r.memoizedState,s);if(i&&(r.memoizedState=s,Se=!0),r=r.queue,Vo(pd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ie!==null&&ie.memoizedState.tag&1){if(n.flags|=2048,Ur(9,fd.bind(null,n,r,s,e),void 0,null),oe===null)throw Error(N(349));an&30||hd(n,e,s)}return s}function hd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fd(t,e,n,r){e.value=n,e.getSnapshot=r,md(e)&&gd(t)}function pd(t,e,n){return n(function(){md(e)&&gd(t)})}function md(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qe(t,n)}catch{return!0}}function gd(t){var e=mt(t,1);e!==null&&Ge(e,t,1,-1)}function eu(t){var e=et();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:t},e.queue=t,t=t.dispatch=Rp.bind(null,X,t),[e.memoizedState,t]}function Ur(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function yd(){return Fe().memoizedState}function bs(t,e,n,r){var s=et();X.flags|=t,s.memoizedState=Ur(1|e,n,void 0,r===void 0?null:r)}function di(t,e,n,r){var s=Fe();r=r===void 0?null:r;var i=void 0;if(ne!==null){var a=ne.memoizedState;if(i=a.destroy,r!==null&&Fo(r,a.deps)){s.memoizedState=Ur(e,n,i,r);return}}X.flags|=t,s.memoizedState=Ur(1|e,n,i,r)}function tu(t,e){return bs(8390656,8,t,e)}function Vo(t,e){return di(2048,8,t,e)}function vd(t,e){return di(4,2,t,e)}function wd(t,e){return di(4,4,t,e)}function xd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _d(t,e,n){return n=n!=null?n.concat([t]):null,di(4,4,xd.bind(null,e,t),n)}function Ko(){}function kd(t,e){var n=Fe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fo(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jd(t,e){var n=Fe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fo(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Sd(t,e,n){return an&21?(Qe(n,e)||(n=Tc(),X.lanes|=n,on|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Se=!0),t.memoizedState=n)}function Pp(t,e){var n=B;B=n!==0&&4>n?n:4,t(!0);var r=qi.transition;qi.transition={};try{t(!1),e()}finally{B=n,qi.transition=r}}function Nd(){return Fe().memoizedState}function Op(t,e,n){var r=$t(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bd(t))Ed(e,n);else if(n=od(t,e,n,r),n!==null){var s=ve();Ge(n,t,r,s),Cd(n,e,r)}}function Rp(t,e,n){var r=$t(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bd(t))Ed(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,Qe(l,a)){var u=e.interleaved;u===null?(s.next=s,Lo(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=od(t,e,s,r),n!==null&&(s=ve(),Ge(n,t,r,s),Cd(n,e,r))}}function bd(t){var e=t.alternate;return t===X||e!==null&&e===X}function Ed(t,e){vr=Js=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Cd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ko(t,n)}}var Gs={readContext:ze,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useInsertionEffect:de,useLayoutEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useMutableSource:de,useSyncExternalStore:de,useId:de,unstable_isNewReconciler:!1},Ap={readContext:ze,useCallback:function(t,e){return et().memoizedState=[t,e===void 0?null:e],t},useContext:ze,useEffect:tu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bs(4194308,4,xd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bs(4194308,4,t,e)},useInsertionEffect:function(t,e){return bs(4,2,t,e)},useMemo:function(t,e){var n=et();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=et();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Op.bind(null,X,t),[r.memoizedState,t]},useRef:function(t){var e=et();return t={current:t},e.memoizedState=t},useState:eu,useDebugValue:Ko,useDeferredValue:function(t){return et().memoizedState=t},useTransition:function(){var t=eu(!1),e=t[0];return t=Pp.bind(null,t[1]),et().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=X,s=et();if(J){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),oe===null)throw Error(N(349));an&30||hd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,tu(pd.bind(null,r,i,t),[t]),r.flags|=2048,Ur(9,fd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=et(),e=oe.identifierPrefix;if(J){var n=ct,r=ut;n=(r&~(1<<32-Je(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Tp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ip={readContext:ze,useCallback:kd,useContext:ze,useEffect:Vo,useImperativeHandle:_d,useInsertionEffect:vd,useLayoutEffect:wd,useMemo:jd,useReducer:Ji,useRef:yd,useState:function(){return Ji(Mr)},useDebugValue:Ko,useDeferredValue:function(t){var e=Fe();return Sd(e,ne.memoizedState,t)},useTransition:function(){var t=Ji(Mr)[0],e=Fe().memoizedState;return[t,e]},useMutableSource:cd,useSyncExternalStore:dd,useId:Nd,unstable_isNewReconciler:!1},$p={readContext:ze,useCallback:kd,useContext:ze,useEffect:Vo,useImperativeHandle:_d,useInsertionEffect:vd,useLayoutEffect:wd,useMemo:jd,useReducer:Gi,useRef:yd,useState:function(){return Gi(Mr)},useDebugValue:Ko,useDeferredValue:function(t){var e=Fe();return ne===null?e.memoizedState=t:Sd(e,ne.memoizedState,t)},useTransition:function(){var t=Gi(Mr)[0],e=Fe().memoizedState;return[t,e]},useMutableSource:cd,useSyncExternalStore:dd,useId:Nd,unstable_isNewReconciler:!1};function Ve(t,e){if(t&&t.defaultProps){e=Y({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Da(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Y({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hi={isMounted:function(t){return(t=t._reactInternals)?cn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ve(),s=$t(t),i=dt(r,s);i.payload=e,n!=null&&(i.callback=n),e=At(t,i,s),e!==null&&(Ge(e,t,s,r),Ss(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ve(),s=$t(t),i=dt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=At(t,i,s),e!==null&&(Ge(e,t,s,r),Ss(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ve(),r=$t(t),s=dt(n,r);s.tag=2,e!=null&&(s.callback=e),e=At(t,s,r),e!==null&&(Ge(e,t,r,n),Ss(e,t,r))}};function nu(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Or(n,r)||!Or(s,i):!0}function Td(t,e,n){var r=!1,s=Mt,i=e.contextType;return typeof i=="object"&&i!==null?i=ze(i):(s=be(e)?rn:me.current,r=e.contextTypes,i=(r=r!=null)?Un(t,s):Mt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hi,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ru(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hi.enqueueReplaceState(e,e.state,null)}function Ma(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Do(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ze(i):(i=be(e)?rn:me.current,s.context=Un(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Da(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&hi.enqueueReplaceState(s,s.state,null),Ws(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Hn(t,e){try{var n="",r=e;do n+=uf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Qi(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ua(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Lp=typeof WeakMap=="function"?WeakMap:Map;function Pd(t,e,n){n=dt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xs||(Xs=!0,Ga=r),Ua(t,e)},n}function Od(t,e,n){n=dt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ua(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ua(t,e),typeof r!="function"&&(It===null?It=new Set([this]):It.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function su(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Lp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Qp.bind(null,t,e,n),e.then(t,t))}function iu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function au(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dt(-1,1),e.tag=2,At(n,e,1))),n.lanes|=1),t)}var Dp=yt.ReactCurrentOwner,Se=!1;function ye(t,e,n,r){e.child=t===null?ad(e,null,n,r):Fn(e,t.child,n,r)}function ou(t,e,n,r,s){n=n.render;var i=e.ref;return Ln(e,s),r=Bo(t,e,n,r,i,s),n=Ho(),t!==null&&!Se?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gt(t,e,s)):(J&&n&&Po(e),e.flags|=1,ye(t,e,r,s),e.child)}function lu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Zo(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Rd(t,e,i,r,s)):(t=Ps(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Or,n(a,r)&&t.ref===e.ref)return gt(t,e,s)}return e.flags|=1,t=Lt(i,r),t.ref=e.ref,t.return=e,e.child=t}function Rd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Or(i,r)&&t.ref===e.ref)if(Se=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Se=!0);else return e.lanes=t.lanes,gt(t,e,s)}return za(t,e,n,r,s)}function Ad(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(On,Ce),Ce|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K(On,Ce),Ce|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,K(On,Ce),Ce|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,K(On,Ce),Ce|=r;return ye(t,e,s,n),e.child}function Id(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function za(t,e,n,r,s){var i=be(n)?rn:me.current;return i=Un(e,i),Ln(e,s),n=Bo(t,e,n,r,i,s),r=Ho(),t!==null&&!Se?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gt(t,e,s)):(J&&r&&Po(e),e.flags|=1,ye(t,e,n,s),e.child)}function uu(t,e,n,r,s){if(be(n)){var i=!0;Fs(e)}else i=!1;if(Ln(e,s),e.stateNode===null)Es(t,e),Td(e,n,r),Ma(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=ze(c):(c=be(n)?rn:me.current,c=Un(e,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==c)&&ru(e,a,r,c),kt=!1;var h=e.memoizedState;a.state=h,Ws(e,r,a,s),u=e.memoizedState,l!==r||h!==u||Ne.current||kt?(typeof d=="function"&&(Da(e,n,d,r),u=e.memoizedState),(l=kt||nu(e,n,l,r,h,u,c))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,ld(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Ve(e.type,l),a.props=c,p=e.pendingProps,h=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=ze(u):(u=be(n)?rn:me.current,u=Un(e,u));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==p||h!==u)&&ru(e,a,r,u),kt=!1,h=e.memoizedState,a.state=h,Ws(e,r,a,s);var w=e.memoizedState;l!==p||h!==w||Ne.current||kt?(typeof y=="function"&&(Da(e,n,y,r),w=e.memoizedState),(c=kt||nu(e,n,c,r,h,w,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),a.props=r,a.state=w,a.context=u,r=c):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Fa(t,e,n,r,i,s)}function Fa(t,e,n,r,s,i){Id(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Jl(e,n,!1),gt(t,e,i);r=e.stateNode,Dp.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Fn(e,t.child,null,i),e.child=Fn(e,null,l,i)):ye(t,e,l,i),e.memoizedState=r.state,s&&Jl(e,n,!0),e.child}function $d(t){var e=t.stateNode;e.pendingContext?ql(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ql(t,e.context,!1),Mo(t,e.containerInfo)}function cu(t,e,n,r,s){return zn(),Ro(s),e.flags|=256,ye(t,e,n,r),e.child}var Ba={dehydrated:null,treeContext:null,retryLane:0};function Ha(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ld(t,e,n){var r=e.pendingProps,s=Q.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),K(Q,s&1),t===null)return $a(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=mi(a,r,0,null),t=nn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ha(n),e.memoizedState=Ba,t):Wo(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Mp(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Lt(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Lt(l,i):(i=nn(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Ha(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Ba,r}return i=t.child,t=i.sibling,r=Lt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Wo(t,e){return e=mi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hs(t,e,n,r){return r!==null&&Ro(r),Fn(e,t.child,null,n),t=Wo(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Mp(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Qi(Error(N(422))),hs(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=mi({mode:"visible",children:r.children},s,0,null),i=nn(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Fn(e,t.child,null,a),e.child.memoizedState=Ha(a),e.memoizedState=Ba,i);if(!(e.mode&1))return hs(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(N(419)),r=Qi(i,r,void 0),hs(t,e,a,r)}if(l=(a&t.childLanes)!==0,Se||l){if(r=oe,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,mt(t,s),Ge(r,t,s,-1))}return Yo(),r=Qi(Error(N(421))),hs(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Xp.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Te=Rt(s.nextSibling),Pe=e,J=!0,qe=null,t!==null&&($e[Le++]=ut,$e[Le++]=ct,$e[Le++]=sn,ut=t.id,ct=t.overflow,sn=e),e=Wo(e,r.children),e.flags|=4096,e)}function du(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),La(t.return,e,n)}function Xi(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Dd(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ye(t,e,r.children,n),r=Q.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&du(t,n,e);else if(t.tag===19)du(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(K(Q,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&qs(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Xi(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&qs(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Xi(e,!0,n,null,i);break;case"together":Xi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Es(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),on|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=Lt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Lt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Up(t,e,n){switch(e.tag){case 3:$d(e),zn();break;case 5:ud(e);break;case 1:be(e.type)&&Fs(e);break;case 4:Mo(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;K(Vs,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(K(Q,Q.current&1),e.flags|=128,null):n&e.child.childLanes?Ld(t,e,n):(K(Q,Q.current&1),t=gt(t,e,n),t!==null?t.sibling:null);K(Q,Q.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Dd(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(Q,Q.current),r)break;return null;case 22:case 23:return e.lanes=0,Ad(t,e,n)}return gt(t,e,n)}var Md,Va,Ud,zd;Md=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Va=function(){};Ud=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,en(rt.current);var i=null;switch(n){case"input":s=ha(t,s),r=ha(t,r),i=[];break;case"select":s=Y({},s,{value:void 0}),r=Y({},r,{value:void 0}),i=[];break;case"textarea":s=ma(t,s),r=ma(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Us)}ya(n,r);var a;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Sr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Sr.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&W("scroll",t),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};zd=function(t,e,n,r){n!==r&&(e.flags|=4)};function sr(t,e){if(!J)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function he(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zp(t,e,n){var r=e.pendingProps;switch(Oo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(e),null;case 1:return be(e.type)&&zs(),he(e),null;case 3:return r=e.stateNode,Bn(),q(Ne),q(me),zo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qe!==null&&(Ya(qe),qe=null))),Va(t,e),he(e),null;case 5:Uo(e);var s=en(Lr.current);if(n=e.type,t!==null&&e.stateNode!=null)Ud(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return he(e),null}if(t=en(rt.current),cs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[tt]=e,r[Ir]=i,t=(e.mode&1)!==0,n){case"dialog":W("cancel",r),W("close",r);break;case"iframe":case"object":case"embed":W("load",r);break;case"video":case"audio":for(s=0;s<cr.length;s++)W(cr[s],r);break;case"source":W("error",r);break;case"img":case"image":case"link":W("error",r),W("load",r);break;case"details":W("toggle",r);break;case"input":xl(r,i),W("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},W("invalid",r);break;case"textarea":kl(r,i),W("invalid",r)}ya(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&us(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&us(r.textContent,l,t),s=["children",""+l]):Sr.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&W("scroll",r)}switch(n){case"input":ts(r),_l(r,i,!0);break;case"textarea":ts(r),jl(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Us)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[tt]=e,t[Ir]=r,Md(t,e,!1,!1),e.stateNode=t;e:{switch(a=va(n,r),n){case"dialog":W("cancel",t),W("close",t),s=r;break;case"iframe":case"object":case"embed":W("load",t),s=r;break;case"video":case"audio":for(s=0;s<cr.length;s++)W(cr[s],t);s=r;break;case"source":W("error",t),s=r;break;case"img":case"image":case"link":W("error",t),W("load",t),s=r;break;case"details":W("toggle",t),s=r;break;case"input":xl(t,r),s=ha(t,r),W("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Y({},r,{value:void 0}),W("invalid",t);break;case"textarea":kl(t,r),s=ma(t,r),W("invalid",t);break;default:s=r}ya(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?yc(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&mc(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Nr(t,u):typeof u=="number"&&Nr(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Sr.hasOwnProperty(i)?u!=null&&i==="onScroll"&&W("scroll",t):u!=null&&go(t,i,u,a))}switch(n){case"input":ts(t),_l(t,r,!1);break;case"textarea":ts(t),jl(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Dt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Rn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Rn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Us)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return he(e),null;case 6:if(t&&e.stateNode!=null)zd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=en(Lr.current),en(rt.current),cs(e)){if(r=e.stateNode,n=e.memoizedProps,r[tt]=e,(i=r.nodeValue!==n)&&(t=Pe,t!==null))switch(t.tag){case 3:us(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&us(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tt]=e,e.stateNode=r}return he(e),null;case 13:if(q(Q),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(J&&Te!==null&&e.mode&1&&!(e.flags&128))sd(),zn(),e.flags|=98560,i=!1;else if(i=cs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[tt]=e}else zn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;he(e),i=!1}else qe!==null&&(Ya(qe),qe=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Q.current&1?re===0&&(re=3):Yo())),e.updateQueue!==null&&(e.flags|=4),he(e),null);case 4:return Bn(),Va(t,e),t===null&&Rr(e.stateNode.containerInfo),he(e),null;case 10:return $o(e.type._context),he(e),null;case 17:return be(e.type)&&zs(),he(e),null;case 19:if(q(Q),i=e.memoizedState,i===null)return he(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)sr(i,!1);else{if(re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=qs(t),a!==null){for(e.flags|=128,sr(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return K(Q,Q.current&1|2),e.child}t=t.sibling}i.tail!==null&&ee()>Vn&&(e.flags|=128,r=!0,sr(i,!1),e.lanes=4194304)}else{if(!r)if(t=qs(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),sr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!J)return he(e),null}else 2*ee()-i.renderingStartTime>Vn&&n!==1073741824&&(e.flags|=128,r=!0,sr(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ee(),e.sibling=null,n=Q.current,K(Q,r?n&1|2:n&1),e):(he(e),null);case 22:case 23:return Xo(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ce&1073741824&&(he(e),e.subtreeFlags&6&&(e.flags|=8192)):he(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function Fp(t,e){switch(Oo(e),e.tag){case 1:return be(e.type)&&zs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bn(),q(Ne),q(me),zo(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Uo(e),null;case 13:if(q(Q),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));zn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return q(Q),null;case 4:return Bn(),null;case 10:return $o(e.type._context),null;case 22:case 23:return Xo(),null;case 24:return null;default:return null}}var fs=!1,pe=!1,Bp=typeof WeakSet=="function"?WeakSet:Set,T=null;function Pn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Z(t,e,r)}else n.current=null}function Ka(t,e,n){try{n()}catch(r){Z(t,e,r)}}var hu=!1;function Hp(t,e){if(Ca=Ls,t=Kc(),To(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,p=t,h=null;t:for(;;){for(var y;p!==n||s!==0&&p.nodeType!==3||(l=a+s),p!==i||r!==0&&p.nodeType!==3||(u=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(y=p.firstChild)!==null;)h=p,p=y;for(;;){if(p===t)break t;if(h===n&&++c===s&&(l=a),h===i&&++d===r&&(u=a),(y=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ta={focusedElem:t,selectionRange:n},Ls=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,S=w.memoizedState,m=e.stateNode,f=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ve(e.type,v),S);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(x){Z(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return w=hu,hu=!1,w}function wr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ka(e,n,i)}s=s.next}while(s!==r)}}function fi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wa(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Fd(t){var e=t.alternate;e!==null&&(t.alternate=null,Fd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[tt],delete e[Ir],delete e[Ra],delete e[Np],delete e[bp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Bd(t){return t.tag===5||t.tag===3||t.tag===4}function fu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Us));else if(r!==4&&(t=t.child,t!==null))for(qa(t,e,n),t=t.sibling;t!==null;)qa(t,e,n),t=t.sibling}function Ja(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ja(t,e,n),t=t.sibling;t!==null;)Ja(t,e,n),t=t.sibling}var le=null,Ke=!1;function vt(t,e,n){for(n=n.child;n!==null;)Hd(t,e,n),n=n.sibling}function Hd(t,e,n){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(ii,n)}catch{}switch(n.tag){case 5:pe||Pn(n,e);case 6:var r=le,s=Ke;le=null,vt(t,e,n),le=r,Ke=s,le!==null&&(Ke?(t=le,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):le.removeChild(n.stateNode));break;case 18:le!==null&&(Ke?(t=le,n=n.stateNode,t.nodeType===8?Vi(t.parentNode,n):t.nodeType===1&&Vi(t,n),Tr(t)):Vi(le,n.stateNode));break;case 4:r=le,s=Ke,le=n.stateNode.containerInfo,Ke=!0,vt(t,e,n),le=r,Ke=s;break;case 0:case 11:case 14:case 15:if(!pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Ka(n,e,a),s=s.next}while(s!==r)}vt(t,e,n);break;case 1:if(!pe&&(Pn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Z(n,e,l)}vt(t,e,n);break;case 21:vt(t,e,n);break;case 22:n.mode&1?(pe=(r=pe)||n.memoizedState!==null,vt(t,e,n),pe=r):vt(t,e,n);break;default:vt(t,e,n)}}function pu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Bp),e.forEach(function(r){var s=Yp.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Be(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:le=l.stateNode,Ke=!1;break e;case 3:le=l.stateNode.containerInfo,Ke=!0;break e;case 4:le=l.stateNode.containerInfo,Ke=!0;break e}l=l.return}if(le===null)throw Error(N(160));Hd(i,a,s),le=null,Ke=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Z(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vd(e,t),e=e.sibling}function Vd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Be(e,t),Ze(t),r&4){try{wr(3,t,t.return),fi(3,t)}catch(v){Z(t,t.return,v)}try{wr(5,t,t.return)}catch(v){Z(t,t.return,v)}}break;case 1:Be(e,t),Ze(t),r&512&&n!==null&&Pn(n,n.return);break;case 5:if(Be(e,t),Ze(t),r&512&&n!==null&&Pn(n,n.return),t.flags&32){var s=t.stateNode;try{Nr(s,"")}catch(v){Z(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&hc(s,i),va(l,a);var c=va(l,i);for(a=0;a<u.length;a+=2){var d=u[a],p=u[a+1];d==="style"?yc(s,p):d==="dangerouslySetInnerHTML"?mc(s,p):d==="children"?Nr(s,p):go(s,d,p,c)}switch(l){case"input":fa(s,i);break;case"textarea":fc(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Rn(s,!!i.multiple,y,!1):h!==!!i.multiple&&(i.defaultValue!=null?Rn(s,!!i.multiple,i.defaultValue,!0):Rn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ir]=i}catch(v){Z(t,t.return,v)}}break;case 6:if(Be(e,t),Ze(t),r&4){if(t.stateNode===null)throw Error(N(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Z(t,t.return,v)}}break;case 3:if(Be(e,t),Ze(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tr(e.containerInfo)}catch(v){Z(t,t.return,v)}break;case 4:Be(e,t),Ze(t);break;case 13:Be(e,t),Ze(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Go=ee())),r&4&&pu(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(pe=(c=pe)||d,Be(e,t),pe=c):Be(e,t),Ze(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(T=t,d=t.child;d!==null;){for(p=T=d;T!==null;){switch(h=T,y=h.child,h.tag){case 0:case 11:case 14:case 15:wr(4,h,h.return);break;case 1:Pn(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){Z(r,n,v)}}break;case 5:Pn(h,h.return);break;case 22:if(h.memoizedState!==null){gu(p);continue}}y!==null?(y.return=h,T=y):gu(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,u=p.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=gc("display",a))}catch(v){Z(t,t.return,v)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(v){Z(t,t.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Be(e,t),Ze(t),r&4&&pu(t);break;case 21:break;default:Be(e,t),Ze(t)}}function Ze(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Bd(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Nr(s,""),r.flags&=-33);var i=fu(t);Ja(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=fu(t);qa(t,l,a);break;default:throw Error(N(161))}}catch(u){Z(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Vp(t,e,n){T=t,Kd(t)}function Kd(t,e,n){for(var r=(t.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||fs;if(!a){var l=s.alternate,u=l!==null&&l.memoizedState!==null||pe;l=fs;var c=pe;if(fs=a,(pe=u)&&!c)for(T=s;T!==null;)a=T,u=a.child,a.tag===22&&a.memoizedState!==null?yu(s):u!==null?(u.return=a,T=u):yu(s);for(;i!==null;)T=i,Kd(i),i=i.sibling;T=s,fs=l,pe=c}mu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):mu(t)}}function mu(t){for(;T!==null;){var e=T;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pe||fi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!pe)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ve(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Zl(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Zl(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Tr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}pe||e.flags&512&&Wa(e)}catch(h){Z(e,e.return,h)}}if(e===t){T=null;break}if(n=e.sibling,n!==null){n.return=e.return,T=n;break}T=e.return}}function gu(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var n=e.sibling;if(n!==null){n.return=e.return,T=n;break}T=e.return}}function yu(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fi(4,e)}catch(u){Z(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Z(e,s,u)}}var i=e.return;try{Wa(e)}catch(u){Z(e,i,u)}break;case 5:var a=e.return;try{Wa(e)}catch(u){Z(e,a,u)}}}catch(u){Z(e,e.return,u)}if(e===t){T=null;break}var l=e.sibling;if(l!==null){l.return=e.return,T=l;break}T=e.return}}var Kp=Math.ceil,Qs=yt.ReactCurrentDispatcher,qo=yt.ReactCurrentOwner,Me=yt.ReactCurrentBatchConfig,F=0,oe=null,te=null,ue=0,Ce=0,On=zt(0),re=0,zr=null,on=0,pi=0,Jo=0,xr=null,ke=null,Go=0,Vn=1/0,at=null,Xs=!1,Ga=null,It=null,ps=!1,Ct=null,Ys=0,_r=0,Qa=null,Cs=-1,Ts=0;function ve(){return F&6?ee():Cs!==-1?Cs:Cs=ee()}function $t(t){return t.mode&1?F&2&&ue!==0?ue&-ue:Cp.transition!==null?(Ts===0&&(Ts=Tc()),Ts):(t=B,t!==0||(t=window.event,t=t===void 0?16:Lc(t.type)),t):1}function Ge(t,e,n,r){if(50<_r)throw _r=0,Qa=null,Error(N(185));Hr(t,n,r),(!(F&2)||t!==oe)&&(t===oe&&(!(F&2)&&(pi|=n),re===4&&Nt(t,ue)),Ee(t,r),n===1&&F===0&&!(e.mode&1)&&(Vn=ee()+500,ci&&Ft()))}function Ee(t,e){var n=t.callbackNode;Cf(t,e);var r=$s(t,t===oe?ue:0);if(r===0)n!==null&&bl(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bl(n),e===1)t.tag===0?Ep(vu.bind(null,t)):td(vu.bind(null,t)),jp(function(){!(F&6)&&Ft()}),n=null;else{switch(Pc(r)){case 1:n=_o;break;case 4:n=Ec;break;case 16:n=Is;break;case 536870912:n=Cc;break;default:n=Is}n=Zd(n,Wd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Wd(t,e){if(Cs=-1,Ts=0,F&6)throw Error(N(327));var n=t.callbackNode;if(Dn()&&t.callbackNode!==n)return null;var r=$s(t,t===oe?ue:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zs(t,r);else{e=r;var s=F;F|=2;var i=Jd();(oe!==t||ue!==e)&&(at=null,Vn=ee()+500,tn(t,e));do try{Jp();break}catch(l){qd(t,l)}while(!0);Io(),Qs.current=i,F=s,te!==null?e=0:(oe=null,ue=0,e=re)}if(e!==0){if(e===2&&(s=ja(t),s!==0&&(r=s,e=Xa(t,s))),e===1)throw n=zr,tn(t,0),Nt(t,r),Ee(t,ee()),n;if(e===6)Nt(t,r);else{if(s=t.current.alternate,!(r&30)&&!Wp(s)&&(e=Zs(t,r),e===2&&(i=ja(t),i!==0&&(r=i,e=Xa(t,i))),e===1))throw n=zr,tn(t,0),Nt(t,r),Ee(t,ee()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:Gt(t,ke,at);break;case 3:if(Nt(t,r),(r&130023424)===r&&(e=Go+500-ee(),10<e)){if($s(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ve(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Oa(Gt.bind(null,t,ke,at),e);break}Gt(t,ke,at);break;case 4:if(Nt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Je(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Kp(r/1960))-r,10<r){t.timeoutHandle=Oa(Gt.bind(null,t,ke,at),r);break}Gt(t,ke,at);break;case 5:Gt(t,ke,at);break;default:throw Error(N(329))}}}return Ee(t,ee()),t.callbackNode===n?Wd.bind(null,t):null}function Xa(t,e){var n=xr;return t.current.memoizedState.isDehydrated&&(tn(t,e).flags|=256),t=Zs(t,e),t!==2&&(e=ke,ke=n,e!==null&&Ya(e)),t}function Ya(t){ke===null?ke=t:ke.push.apply(ke,t)}function Wp(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Qe(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nt(t,e){for(e&=~Jo,e&=~pi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Je(e),r=1<<n;t[n]=-1,e&=~r}}function vu(t){if(F&6)throw Error(N(327));Dn();var e=$s(t,0);if(!(e&1))return Ee(t,ee()),null;var n=Zs(t,e);if(t.tag!==0&&n===2){var r=ja(t);r!==0&&(e=r,n=Xa(t,r))}if(n===1)throw n=zr,tn(t,0),Nt(t,e),Ee(t,ee()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gt(t,ke,at),Ee(t,ee()),null}function Qo(t,e){var n=F;F|=1;try{return t(e)}finally{F=n,F===0&&(Vn=ee()+500,ci&&Ft())}}function ln(t){Ct!==null&&Ct.tag===0&&!(F&6)&&Dn();var e=F;F|=1;var n=Me.transition,r=B;try{if(Me.transition=null,B=1,t)return t()}finally{B=r,Me.transition=n,F=e,!(F&6)&&Ft()}}function Xo(){Ce=On.current,q(On)}function tn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,kp(n)),te!==null)for(n=te.return;n!==null;){var r=n;switch(Oo(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zs();break;case 3:Bn(),q(Ne),q(me),zo();break;case 5:Uo(r);break;case 4:Bn();break;case 13:q(Q);break;case 19:q(Q);break;case 10:$o(r.type._context);break;case 22:case 23:Xo()}n=n.return}if(oe=t,te=t=Lt(t.current,null),ue=Ce=e,re=0,zr=null,Jo=pi=on=0,ke=xr=null,Zt!==null){for(e=0;e<Zt.length;e++)if(n=Zt[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Zt=null}return t}function qd(t,e){do{var n=te;try{if(Io(),Ns.current=Gs,Js){for(var r=X.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Js=!1}if(an=0,ie=ne=X=null,vr=!1,Dr=0,qo.current=null,n===null||n.return===null){re=1,zr=e,te=null;break}e:{var i=t,a=n.return,l=n,u=e;if(e=ue,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=iu(a);if(y!==null){y.flags&=-257,au(y,a,l,i,e),y.mode&1&&su(i,c,e),e=y,u=c;var w=e.updateQueue;if(w===null){var v=new Set;v.add(u),e.updateQueue=v}else w.add(u);break e}else{if(!(e&1)){su(i,c,e),Yo();break e}u=Error(N(426))}}else if(J&&l.mode&1){var S=iu(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),au(S,a,l,i,e),Ro(Hn(u,l));break e}}i=u=Hn(u,l),re!==4&&(re=2),xr===null?xr=[i]:xr.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=Pd(i,u,e);Yl(i,m);break e;case 1:l=u;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(It===null||!It.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Od(i,l,e);Yl(i,x);break e}}i=i.return}while(i!==null)}Qd(n)}catch(k){e=k,te===n&&n!==null&&(te=n=n.return);continue}break}while(!0)}function Jd(){var t=Qs.current;return Qs.current=Gs,t===null?Gs:t}function Yo(){(re===0||re===3||re===2)&&(re=4),oe===null||!(on&268435455)&&!(pi&268435455)||Nt(oe,ue)}function Zs(t,e){var n=F;F|=2;var r=Jd();(oe!==t||ue!==e)&&(at=null,tn(t,e));do try{qp();break}catch(s){qd(t,s)}while(!0);if(Io(),F=n,Qs.current=r,te!==null)throw Error(N(261));return oe=null,ue=0,re}function qp(){for(;te!==null;)Gd(te)}function Jp(){for(;te!==null&&!wf();)Gd(te)}function Gd(t){var e=Yd(t.alternate,t,Ce);t.memoizedProps=t.pendingProps,e===null?Qd(t):te=e,qo.current=null}function Qd(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Fp(n,e),n!==null){n.flags&=32767,te=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{re=6,te=null;return}}else if(n=zp(n,e,Ce),n!==null){te=n;return}if(e=e.sibling,e!==null){te=e;return}te=e=t}while(e!==null);re===0&&(re=5)}function Gt(t,e,n){var r=B,s=Me.transition;try{Me.transition=null,B=1,Gp(t,e,n,r)}finally{Me.transition=s,B=r}return null}function Gp(t,e,n,r){do Dn();while(Ct!==null);if(F&6)throw Error(N(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Tf(t,i),t===oe&&(te=oe=null,ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ps||(ps=!0,Zd(Is,function(){return Dn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Me.transition,Me.transition=null;var a=B;B=1;var l=F;F|=4,qo.current=null,Hp(t,n),Vd(n,t),mp(Ta),Ls=!!Ca,Ta=Ca=null,t.current=n,Vp(n),xf(),F=l,B=a,Me.transition=i}else t.current=n;if(ps&&(ps=!1,Ct=t,Ys=s),i=t.pendingLanes,i===0&&(It=null),jf(n.stateNode),Ee(t,ee()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xs)throw Xs=!1,t=Ga,Ga=null,t;return Ys&1&&t.tag!==0&&Dn(),i=t.pendingLanes,i&1?t===Qa?_r++:(_r=0,Qa=t):_r=0,Ft(),null}function Dn(){if(Ct!==null){var t=Pc(Ys),e=Me.transition,n=B;try{if(Me.transition=null,B=16>t?16:t,Ct===null)var r=!1;else{if(t=Ct,Ct=null,Ys=0,F&6)throw Error(N(331));var s=F;for(F|=4,T=t.current;T!==null;){var i=T,a=i.child;if(T.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(T=c;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:wr(8,d,i)}var p=d.child;if(p!==null)p.return=d,T=p;else for(;T!==null;){d=T;var h=d.sibling,y=d.return;if(Fd(d),d===c){T=null;break}if(h!==null){h.return=y,T=h;break}T=y}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}T=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,T=a;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wr(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,T=m;break e}T=i.return}}var f=t.current;for(T=f;T!==null;){a=T;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,T=g;else e:for(a=f;T!==null;){if(l=T,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fi(9,l)}}catch(k){Z(l,l.return,k)}if(l===a){T=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,T=x;break e}T=l.return}}if(F=s,Ft(),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(ii,t)}catch{}r=!0}return r}finally{B=n,Me.transition=e}}return!1}function wu(t,e,n){e=Hn(n,e),e=Pd(t,e,1),t=At(t,e,1),e=ve(),t!==null&&(Hr(t,1,e),Ee(t,e))}function Z(t,e,n){if(t.tag===3)wu(t,t,n);else for(;e!==null;){if(e.tag===3){wu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(It===null||!It.has(r))){t=Hn(n,t),t=Od(e,t,1),e=At(e,t,1),t=ve(),e!==null&&(Hr(e,1,t),Ee(e,t));break}}e=e.return}}function Qp(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ve(),t.pingedLanes|=t.suspendedLanes&n,oe===t&&(ue&n)===n&&(re===4||re===3&&(ue&130023424)===ue&&500>ee()-Go?tn(t,0):Jo|=n),Ee(t,e)}function Xd(t,e){e===0&&(t.mode&1?(e=ss,ss<<=1,!(ss&130023424)&&(ss=4194304)):e=1);var n=ve();t=mt(t,e),t!==null&&(Hr(t,e,n),Ee(t,n))}function Xp(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Xd(t,n)}function Yp(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),Xd(t,n)}var Yd;Yd=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ne.current)Se=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Se=!1,Up(t,e,n);Se=!!(t.flags&131072)}else Se=!1,J&&e.flags&1048576&&nd(e,Hs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Es(t,e),t=e.pendingProps;var s=Un(e,me.current);Ln(e,n),s=Bo(null,e,r,t,s,n);var i=Ho();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,be(r)?(i=!0,Fs(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Do(e),s.updater=hi,e.stateNode=s,s._reactInternals=e,Ma(e,r,t,n),e=Fa(null,e,r,!0,i,n)):(e.tag=0,J&&i&&Po(e),ye(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Es(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=em(r),t=Ve(r,t),s){case 0:e=za(null,e,r,t,n);break e;case 1:e=uu(null,e,r,t,n);break e;case 11:e=ou(null,e,r,t,n);break e;case 14:e=lu(null,e,r,Ve(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ve(r,s),za(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ve(r,s),uu(t,e,r,s,n);case 3:e:{if($d(e),t===null)throw Error(N(387));r=e.pendingProps,i=e.memoizedState,s=i.element,ld(t,e),Ws(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Hn(Error(N(423)),e),e=cu(t,e,r,n,s);break e}else if(r!==s){s=Hn(Error(N(424)),e),e=cu(t,e,r,n,s);break e}else for(Te=Rt(e.stateNode.containerInfo.firstChild),Pe=e,J=!0,qe=null,n=ad(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zn(),r===s){e=gt(t,e,n);break e}ye(t,e,r,n)}e=e.child}return e;case 5:return ud(e),t===null&&$a(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Pa(r,s)?a=null:i!==null&&Pa(r,i)&&(e.flags|=32),Id(t,e),ye(t,e,a,n),e.child;case 6:return t===null&&$a(e),null;case 13:return Ld(t,e,n);case 4:return Mo(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fn(e,null,r,n):ye(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ve(r,s),ou(t,e,r,s,n);case 7:return ye(t,e,e.pendingProps,n),e.child;case 8:return ye(t,e,e.pendingProps.children,n),e.child;case 12:return ye(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,K(Vs,r._currentValue),r._currentValue=a,i!==null)if(Qe(i.value,a)){if(i.children===s.children&&!Ne.current){e=gt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=dt(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),La(i.return,n,e),l.lanes|=n;break}u=u.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(N(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),La(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ye(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ln(e,n),s=ze(s),r=r(s),e.flags|=1,ye(t,e,r,n),e.child;case 14:return r=e.type,s=Ve(r,e.pendingProps),s=Ve(r.type,s),lu(t,e,r,s,n);case 15:return Rd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ve(r,s),Es(t,e),e.tag=1,be(r)?(t=!0,Fs(e)):t=!1,Ln(e,n),Td(e,r,s),Ma(e,r,s,n),Fa(null,e,r,!0,t,n);case 19:return Dd(t,e,n);case 22:return Ad(t,e,n)}throw Error(N(156,e.tag))};function Zd(t,e){return bc(t,e)}function Zp(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function De(t,e,n,r){return new Zp(t,e,n,r)}function Zo(t){return t=t.prototype,!(!t||!t.isReactComponent)}function em(t){if(typeof t=="function")return Zo(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vo)return 11;if(t===wo)return 14}return 2}function Lt(t,e){var n=t.alternate;return n===null?(n=De(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ps(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Zo(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case _n:return nn(n.children,s,i,e);case yo:a=8,s|=8;break;case la:return t=De(12,n,e,s|2),t.elementType=la,t.lanes=i,t;case ua:return t=De(13,n,e,s),t.elementType=ua,t.lanes=i,t;case ca:return t=De(19,n,e,s),t.elementType=ca,t.lanes=i,t;case uc:return mi(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oc:a=10;break e;case lc:a=9;break e;case vo:a=11;break e;case wo:a=14;break e;case _t:a=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=De(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function nn(t,e,n,r){return t=De(7,t,r,e),t.lanes=n,t}function mi(t,e,n,r){return t=De(22,t,r,e),t.elementType=uc,t.lanes=n,t.stateNode={isHidden:!1},t}function Yi(t,e,n){return t=De(6,t,null,e),t.lanes=n,t}function Zi(t,e,n){return e=De(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tm(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ai(0),this.expirationTimes=Ai(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function el(t,e,n,r,s,i,a,l,u){return t=new tm(t,e,n,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=De(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(i),t}function nm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function eh(t){if(!t)return Mt;t=t._reactInternals;e:{if(cn(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(be(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(be(n))return ed(t,n,e)}return e}function th(t,e,n,r,s,i,a,l,u){return t=el(n,r,!0,t,s,i,a,l,u),t.context=eh(null),n=t.current,r=ve(),s=$t(n),i=dt(r,s),i.callback=e??null,At(n,i,s),t.current.lanes=s,Hr(t,s,r),Ee(t,r),t}function gi(t,e,n,r){var s=e.current,i=ve(),a=$t(s);return n=eh(n),e.context===null?e.context=n:e.pendingContext=n,e=dt(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=At(s,e,a),t!==null&&(Ge(t,s,a,i),Ss(t,s,a)),a}function ei(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function tl(t,e){xu(t,e),(t=t.alternate)&&xu(t,e)}function rm(){return null}var nh=typeof reportError=="function"?reportError:function(t){console.error(t)};function nl(t){this._internalRoot=t}yi.prototype.render=nl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));gi(t,e,null,null)};yi.prototype.unmount=nl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ln(function(){gi(null,t,null,null)}),e[pt]=null}};function yi(t){this._internalRoot=t}yi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ac();t={blockedOn:null,target:t,priority:e};for(var n=0;n<St.length&&e!==0&&e<St[n].priority;n++);St.splice(n,0,t),n===0&&$c(t)}};function rl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _u(){}function sm(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ei(a);i.call(c)}}var a=th(e,r,t,0,null,!1,!1,"",_u);return t._reactRootContainer=a,t[pt]=a.current,Rr(t.nodeType===8?t.parentNode:t),ln(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=ei(u);l.call(c)}}var u=el(t,0,!1,null,null,!1,!1,"",_u);return t._reactRootContainer=u,t[pt]=u.current,Rr(t.nodeType===8?t.parentNode:t),ln(function(){gi(e,u,n,r)}),u}function wi(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var u=ei(a);l.call(u)}}gi(e,a,t,s)}else a=sm(n,e,t,s,r);return ei(a)}Oc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ur(e.pendingLanes);n!==0&&(ko(e,n|1),Ee(e,ee()),!(F&6)&&(Vn=ee()+500,Ft()))}break;case 13:ln(function(){var r=mt(t,1);if(r!==null){var s=ve();Ge(r,t,1,s)}}),tl(t,1)}};jo=function(t){if(t.tag===13){var e=mt(t,134217728);if(e!==null){var n=ve();Ge(e,t,134217728,n)}tl(t,134217728)}};Rc=function(t){if(t.tag===13){var e=$t(t),n=mt(t,e);if(n!==null){var r=ve();Ge(n,t,e,r)}tl(t,e)}};Ac=function(){return B};Ic=function(t,e){var n=B;try{return B=t,e()}finally{B=n}};xa=function(t,e,n){switch(e){case"input":if(fa(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ui(r);if(!s)throw Error(N(90));dc(r),fa(r,s)}}}break;case"textarea":fc(t,n);break;case"select":e=n.value,e!=null&&Rn(t,!!n.multiple,e,!1)}};xc=Qo;_c=ln;var im={usingClientEntryPoint:!1,Events:[Kr,Nn,ui,vc,wc,Qo]},ir={findFiberByHostInstance:Yt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},am={bundleType:ir.bundleType,version:ir.version,rendererPackageName:ir.rendererPackageName,rendererConfig:ir.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Sc(t),t===null?null:t.stateNode},findFiberByHostInstance:ir.findFiberByHostInstance||rm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ms.isDisabled&&ms.supportsFiber)try{ii=ms.inject(am),nt=ms}catch{}}Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=im;Re.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rl(e))throw Error(N(200));return nm(t,e,null,n)};Re.createRoot=function(t,e){if(!rl(t))throw Error(N(299));var n=!1,r="",s=nh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=el(t,1,!1,null,null,n,!1,r,s),t[pt]=e.current,Rr(t.nodeType===8?t.parentNode:t),new nl(e)};Re.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=Sc(e),t=t===null?null:t.stateNode,t};Re.flushSync=function(t){return ln(t)};Re.hydrate=function(t,e,n){if(!vi(e))throw Error(N(200));return wi(null,t,e,!0,n)};Re.hydrateRoot=function(t,e,n){if(!rl(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=nh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=th(e,null,t,1,n??null,s,!1,i,a),t[pt]=e.current,Rr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new yi(e)};Re.render=function(t,e,n){if(!vi(e))throw Error(N(200));return wi(null,t,e,!1,n)};Re.unmountComponentAtNode=function(t){if(!vi(t))throw Error(N(40));return t._reactRootContainer?(ln(function(){wi(null,null,t,!1,function(){t._reactRootContainer=null,t[pt]=null})}),!0):!1};Re.unstable_batchedUpdates=Qo;Re.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vi(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return wi(t,e,n,!1,r)};Re.version="18.3.1-next-f1338f8080-20240426";function rh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rh)}catch(t){console.error(t)}}rh(),rc.exports=Re;var om=rc.exports,sh,ku=om;sh=ku.createRoot,ku.hydrateRoot;const lm="modulepreload",um=function(t){return"/"+t},ju={},qr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=um(u),u in ju)return;ju[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":lm,c||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),c)return new Promise((h,y)=>{p.addEventListener("load",h),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},cm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>qr(async()=>{const{default:r}=await Promise.resolve().then(()=>Gn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class sl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class dm extends sl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Su extends sl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Nu extends sl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Za;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Za||(Za={}));var hm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{c(r.next(d))}catch(p){a(p)}}function u(d){try{c(r.throw(d))}catch(p){a(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class fm{constructor(e,{headers:n={},customFetch:r,region:s=Za.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=cm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return hm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=n;let l={},{region:u}=n;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const p=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(v=>{throw new dm(v)}),h=p.headers.get("x-relay-error");if(h&&h==="true")throw new Su(p);if(!p.ok)throw new Nu(p);let y=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield p.json():y==="application/octet-stream"?w=yield p.blob():y==="text/event-stream"?w=p:y==="multipart/form-data"?w=yield p.formData():w=yield p.text(),{data:w,error:null,response:p}}catch(s){return{data:null,error:s,response:s instanceof Nu||s instanceof Su?s.context:void 0}}})}}var je={},il={},xi={},Jr={},_i={},ki={},pm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Kn=pm();const mm=Kn.fetch,ih=Kn.fetch.bind(Kn),ah=Kn.Headers,gm=Kn.Request,ym=Kn.Response,Gn=Object.freeze(Object.defineProperty({__proto__:null,Headers:ah,Request:gm,Response:ym,default:ih,fetch:mm},Symbol.toStringTag,{value:"Module"})),vm=Ih(Gn);var ji={};Object.defineProperty(ji,"__esModule",{value:!0});let wm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ji.default=wm;var oh=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ki,"__esModule",{value:!0});const xm=oh(vm),_m=oh(ji);let km=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=xm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,u;let c=null,d=null,p=null,h=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const v=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),S=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&S&&S.length>1&&(p=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,h=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{c=JSON.parse(v),Array.isArray(c)&&i.status===404&&(d=[],c=null,h=200,y="OK")}catch{i.status===404&&v===""?(h=204,y="No Content"):c={message:v}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,h=200,y="OK"),c&&this.shouldThrowOnError)throw new _m.default(c)}return{error:c,data:d,count:p,status:h,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,u;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};ki.default=km;var jm=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_i,"__esModule",{value:!0});const Sm=jm(ki);let Nm=class extends Sm.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const u=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${u};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};_i.default=Nm;var bm=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jr,"__esModule",{value:!0});const Em=bm(_i);let Cm=class extends Em.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Jr.default=Cm;var Tm=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xi,"__esModule",{value:!0});const ar=Tm(Jr);let Pm=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new ar.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new ar.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const a="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new ar.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new ar.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ar.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};xi.default=Pm;var Si={},Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.version=void 0;Ni.version="0.0.0-automated";Object.defineProperty(Si,"__esModule",{value:!0});Si.DEFAULT_HEADERS=void 0;const Om=Ni;Si.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Om.version}`};var lh=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(il,"__esModule",{value:!0});const Rm=lh(xi),Am=lh(Jr),Im=Si;let $m=class uh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Im.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Rm.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new uh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let a;const l=new URL(`${this.url}/rpc/${e}`);let u;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{l.searchParams.append(d,p)})):(a="POST",u=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Am.default({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};il.default=$m;var Qn=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(je,"__esModule",{value:!0});je.PostgrestError=je.PostgrestBuilder=je.PostgrestTransformBuilder=je.PostgrestFilterBuilder=je.PostgrestQueryBuilder=je.PostgrestClient=void 0;const ch=Qn(il);je.PostgrestClient=ch.default;const dh=Qn(xi);je.PostgrestQueryBuilder=dh.default;const hh=Qn(Jr);je.PostgrestFilterBuilder=hh.default;const fh=Qn(_i);je.PostgrestTransformBuilder=fh.default;const ph=Qn(ki);je.PostgrestBuilder=ph.default;const mh=Qn(ji);je.PostgrestError=mh.default;var Lm=je.default={PostgrestClient:ch.default,PostgrestQueryBuilder:dh.default,PostgrestFilterBuilder:hh.default,PostgrestTransformBuilder:fh.default,PostgrestBuilder:ph.default,PostgrestError:mh.default};const{PostgrestClient:Dm,PostgrestQueryBuilder:Dy,PostgrestFilterBuilder:My,PostgrestTransformBuilder:Uy,PostgrestBuilder:zy,PostgrestError:Fy}=Lm;function Mm(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Um=Mm(),zm="2.11.15",Fm=`realtime-js/${zm}`,Bm="1.0.0",gh=1e4,Hm=1e3;var kr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(kr||(kr={}));var fe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(fe||(fe={}));var We;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(We||(We={}));var eo;(function(t){t.websocket="websocket"})(eo||(eo={}));var Xt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Xt||(Xt={}));class Vm{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(e.slice(a,a+s));a=a+s;const u=r.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}class yh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var V;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(V||(V={}));const bu=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,a)=>(i[a]=Km(a,t,e,s),i),{})},Km=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,a=n[t];return i&&!r.includes(i)?vh(i,a):to(a)},vh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Gm(e,n)}switch(t){case V.bool:return Wm(e);case V.float4:case V.float8:case V.int2:case V.int4:case V.int8:case V.numeric:case V.oid:return qm(e);case V.json:case V.jsonb:return Jm(e);case V.timestamp:return Qm(e);case V.abstime:case V.date:case V.daterange:case V.int4range:case V.int8range:case V.money:case V.reltime:case V.text:case V.time:case V.timestamptz:case V.timetz:case V.tsrange:case V.tstzrange:return to(e);default:return to(e)}},to=t=>t,Wm=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},qm=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Jm=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Gm=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>vh(e,l))}return t},Qm=t=>typeof t=="string"?t.replace(" ","T"):t,wh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ea{constructor(e,n,r={},s=gh){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Eu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Eu||(Eu={}));class jr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jr.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=jr.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=jr.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),a=this.transformState(n),l={},u={};return this.map(i,(c,d)=>{a[c]||(u[c]=d)}),this.map(a,(c,d)=>{const p=i[c];if(p){const h=d.map(S=>S.presence_ref),y=p.map(S=>S.presence_ref),w=d.filter(S=>y.indexOf(S.presence_ref)<0),v=p.filter(S=>h.indexOf(S.presence_ref)<0);w.length>0&&(l[c]=w),v.length>0&&(u[c]=v)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(u),d.length>0){const p=e[l].map(y=>y.presence_ref),h=d.filter(y=>p.indexOf(y.presence_ref)<0);e[l].unshift(...h)}r(l,d,u)}),this.map(a,(l,u)=>{let c=e[l];if(!c)return;const d=u.map(p=>p.presence_ref);c=c.filter(p=>d.indexOf(p.presence_ref)<0),e[l]=c,s(l,c,u),c.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Cu||(Cu={}));var Tu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Tu||(Tu={}));var ot;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ot||(ot={}));class al{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ea(this,We.join,this.params,this.timeout),this.rejoinTimer=new yh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(We.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new jr(this),this.broadcastEndpointURL=wh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==fe.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params;this._onError(d=>e==null?void 0:e(ot.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(ot.CLOSED));const u={},c={broadcast:i,presence:a,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var p;if(this.socket.setAuth(),d===void 0){e==null||e(ot.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,y=(p=h==null?void 0:h.length)!==null&&p!==void 0?p:0,w=[];for(let v=0;v<y;v++){const S=h[v],{filter:{event:m,schema:f,table:g,filter:x}}=S,k=d&&d[v];if(k&&k.event===m&&k.schema===f&&k.table===g&&k.filter===x)w.push(Object.assign(Object.assign({},S),{id:k.id}));else{this.unsubscribe(),this.state=fe.errored,e==null||e(ot.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(ot.SUBSCRIBED);return}}).receive("error",d=>{this.state=fe.errored,e==null||e(ot.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ot.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,u;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=fe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(We.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new ea(this,We.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ea(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=We;if(r&&[l,u,c,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var w,v,S;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(v=y.filter)===null||v===void 0?void 0:v.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===a}).map(y=>y.callback(h,r)):(i=this.bindings[a])===null||i===void 0||i.filter(y=>{var w,v,S,m,f,g;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const x=y.id,k=(w=y.filter)===null||w===void 0?void 0:w.event;return x&&((v=n.ids)===null||v===void 0?void 0:v.includes(x))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const x=(f=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return x==="*"||x===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:v,table:S,commit_timestamp:m,type:f,errors:g}=w;h=Object.assign(Object.assign({},{schema:v,table:S,commit_timestamp:m,eventType:f,new:{},old:{},errors:g}),this._getPayloadRecords(w))}y.callback(h,r)})}_isClosed(){return this.state===fe.closed}_isJoined(){return this.state===fe.joined}_isJoining(){return this.state===fe.joining}_isLeaving(){return this.state===fe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&al.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(We.close,{},e)}_onError(e){this._on(We.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=bu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=bu(e.columns,e.old_record)),n}}const Pu=()=>{},Xm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ym{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pu,this.ref=0,this.logger=Pu,this.conn=null,this.sendBuffer=[],this.serializer=new Vm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>qr(async()=>{const{default:u}=await Promise.resolve().then(()=>Gn);return{default:u}},void 0).then(({default:u})=>u(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${e}/${eo.websocket}`,this.httpEndpoint=wh(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,a)=>a(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new yh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Um),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Bm}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case kr.connecting:return Xt.Connecting;case kr.open:return Xt.Open;case kr.closing:return Xt.Closing;default:return Xt.Closed}}isConnected(){return this.connectionState()===Xt.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new al(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Fm};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(We.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Hm,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:a}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(We.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Xm],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class ol extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function se(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Zm extends ol{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class no extends ol{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var eg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{c(r.next(d))}catch(p){a(p)}}function u(d){try{c(r.throw(d))}catch(p){a(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const xh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>qr(async()=>{const{default:r}=await Promise.resolve().then(()=>Gn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},tg=()=>eg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qr(()=>Promise.resolve().then(()=>Gn),void 0)).Response:Response}),ro=t=>{if(Array.isArray(t))return t.map(n=>ro(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ro(r)}),e};var dn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{c(r.next(d))}catch(p){a(p)}}function u(d){try{c(r.throw(d))}catch(p){a(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const ta=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ng=(t,e,n)=>dn(void 0,void 0,void 0,function*(){const r=yield tg();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new Zm(ta(s),t.status||500))}).catch(s=>{e(new no(ta(s),s))}):e(new no(ta(t),t))}),rg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Gr(t,e,n,r,s,i){return dn(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(n,rg(e,r,s,i)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>ng(u,l,r))})})}function ti(t,e,n,r){return dn(this,void 0,void 0,function*(){return Gr(t,"GET",e,n,r)})}function jt(t,e,n,r,s){return dn(this,void 0,void 0,function*(){return Gr(t,"POST",e,r,s,n)})}function sg(t,e,n,r,s){return dn(this,void 0,void 0,function*(){return Gr(t,"PUT",e,r,s,n)})}function ig(t,e,n,r){return dn(this,void 0,void 0,function*(){return Gr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function _h(t,e,n,r,s){return dn(this,void 0,void 0,function*(){return Gr(t,"DELETE",e,r,s,n)})}var _e=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{c(r.next(d))}catch(p){a(p)}}function u(d){try{c(r.throw(d))}catch(p){a(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const ag={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ou={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class og{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=xh(s)}uploadOrUpdate(e,n,r,s){return _e(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Ou),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),p=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield p.json();return p.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(se(i))return{data:null,error:i};throw i}})}upload(e,n,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return _e(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let u;const c=Object.assign({upsert:Ou.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const p=yield this.fetch(l.toString(),{method:"PUT",body:u,headers:d}),h=yield p.json();return p.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(u){if(se(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return _e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield jt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new ol("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}update(e,n,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return _e(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}copy(e,n,r){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return _e(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield jt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return _e(this,void 0,void 0,function*(){try{const s=yield jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}download(e,n){return _e(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ti(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(se(l))return{data:null,error:l};throw l}})}info(e){return _e(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ti(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ro(r),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}exists(e){return _e(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield ig(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(se(r)&&r instanceof no){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(e){return _e(this,void 0,void 0,function*(){try{return{data:yield _h(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}list(e,n,r){return _e(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ag),n),{prefix:e||""});return{data:yield jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const lg="2.7.1",ug={"X-Client-Info":`storage-js/${lg}`};var fn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{c(r.next(d))}catch(p){a(p)}}function u(d){try{c(r.throw(d))}catch(p){a(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class cg{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},ug),n),this.fetch=xh(r)}listBuckets(){return fn(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(se(e))return{data:null,error:e};throw e}})}getBucket(e){return fn(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return fn(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return fn(this,void 0,void 0,function*(){try{return{data:yield sg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}emptyBucket(e){return fn(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}deleteBucket(e){return fn(this,void 0,void 0,function*(){try{return{data:yield _h(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}}class dg extends cg{constructor(e,n={},r){super(e,n,r)}from(e){return new og(this.url,this.headers,e,this.fetch)}}const hg="2.51.0";let dr="";typeof Deno<"u"?dr="deno":typeof document<"u"?dr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dr="react-native":dr="node";const fg={"X-Client-Info":`supabase-js-${dr}/${hg}`},pg={headers:fg},mg={schema:"public"},gg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yg={};var vg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{c(r.next(d))}catch(p){a(p)}}function u(d){try{c(r.throw(d))}catch(p){a(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const wg=t=>{let e;return t?e=t:typeof fetch>"u"?e=ih:e=fetch,(...n)=>e(...n)},xg=()=>typeof Headers>"u"?ah:Headers,_g=(t,e,n)=>{const r=wg(n),s=xg();return(i,a)=>vg(void 0,void 0,void 0,function*(){var l;const u=(l=yield e())!==null&&l!==void 0?l:t;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(i,Object.assign(Object.assign({},a),{headers:c}))})};var kg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{c(r.next(d))}catch(p){a(p)}}function u(d){try{c(r.throw(d))}catch(p){a(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};function jg(t){return t.endsWith("/")?t:t+"/"}function Sg(t,e){var n,r;const{db:s,auth:i,realtime:a,global:l}=t,{db:u,auth:c,realtime:d,global:p}=e,h={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},p),l),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>kg(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const kh="2.71.0",vn=30*1e3,so=3,na=so*vn,Ng="http://localhost:9999",bg="supabase.auth.token",Eg={"X-Client-Info":`gotrue-js/${kh}`},io="X-Supabase-Api-Version",jh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Cg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Tg=10*60*1e3;class ll extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function $(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Pg extends ll{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Og(t){return $(t)&&t.name==="AuthApiError"}class Sh extends ll{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Bt extends ll{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class xt extends Bt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Rg(t){return $(t)&&t.name==="AuthSessionMissingError"}class gs extends Bt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ys extends Bt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class vs extends Bt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ag(t){return $(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ru extends Bt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ao extends Bt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ra(t){return $(t)&&t.name==="AuthRetryableFetchError"}class Au extends Bt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class oo extends Bt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ni="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Iu=` 	
\r=`.split(""),Ig=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Iu.length;e+=1)t[Iu[e].charCodeAt(0)]=-2;for(let e=0;e<ni.length;e+=1)t[ni[e].charCodeAt(0)]=e;return t})();function $u(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ni[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ni[r]),e.queuedBits-=6}}function Nh(t,e,n){const r=Ig[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Lu(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Dg(a,r,n)};for(let a=0;a<t.length;a+=1)Nh(t.charCodeAt(a),s,i);return e.join("")}function $g(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Lg(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}$g(r,e)}}function Dg(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Mg(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Nh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Ug(t){const e=[];return Lg(t,n=>e.push(n)),new Uint8Array(e)}function zg(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>$u(s,n,r)),$u(null,n,r),e.join("")}function Fg(t){return Math.round(Date.now()/1e3)+t}function Bg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const He=()=>typeof window<"u"&&typeof document<"u",Kt={tested:!1,writable:!1},bh=()=>{if(!He())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kt.tested)return Kt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Kt.tested=!0,Kt.writable=!0}catch{Kt.tested=!0,Kt.writable=!1}return Kt.writable};function Hg(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Eh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>qr(async()=>{const{default:r}=await Promise.resolve().then(()=>Gn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Vg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Wt=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},wt=async(t,e)=>{await t.removeItem(e)};class bi{constructor(){this.promise=new bi.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}bi.promiseConstructor=Promise;function sa(t){const e=t.split(".");if(e.length!==3)throw new oo("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Cg.test(e[r]))throw new oo("JWT not in base64url format");return{header:JSON.parse(Lu(e[0])),payload:JSON.parse(Lu(e[1])),signature:Mg(e[2]),raw:{header:e[0],payload:e[1]}}}async function Kg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Wg(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function qg(t){return("0"+t.toString(16)).substr(-2)}function Jg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,qg).join("")}async function Gg(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Qg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Gg(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pn(t,e,n=!1){const r=Jg();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await wn(t,`${e}-code-verifier`,s);const i=await Qg(r);return[i,r===i?"plain":"s256"]}const Xg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Yg(t){const e=t.headers.get(io);if(!e||!e.match(Xg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Zg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function e0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const t0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mn(t){if(!t0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ia(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var n0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Qt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),r0=[502,503,504];async function Du(t){var e;if(!Vg(t))throw new ao(Qt(t),0);if(r0.includes(t.status))throw new ao(Qt(t),t.status);let n;try{n=await t.json()}catch(i){throw new Sh(Qt(i),i)}let r;const s=Yg(t);if(s&&s.getTime()>=jh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Au(Qt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new xt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Au(Qt(n),t.status,n.weak_password.reasons);throw new Pg(Qt(n),t.status||500,r)}const s0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function M(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[io]||(i[io]=jh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await i0(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function i0(t,e,n,r,s,i){const a=s0(e,r,s,i);let l;try{l=await t(n,Object.assign({},a))}catch(u){throw console.error(u),new ao(Qt(u),0)}if(l.ok||await Du(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(u){await Du(u)}}function it(t){var e;let n=null;u0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Fg(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Mu(t){const e=it(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function bt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function a0(t){return{data:t,error:null}}function o0(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,a=n0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function l0(t){return t}function u0(t){return t.access_token&&t.refresh_token&&t.expires_in}const aa=["global","local","others"];var c0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class d0{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Eh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=aa[0]){if(aa.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${aa.join(", ")}`);try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:bt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=c0(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:o0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if($(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:bt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:l0});if(d.error)throw d.error;const p=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);c[`${S}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if($(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){mn(e);try{return await M(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:bt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){mn(e);try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:bt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){mn(e);try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:bt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){mn(e.userId);try{const{data:n,error:r}=await M(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if($(n))return{data:null,error:n};throw n}}async _deleteFactor(e){mn(e.userId),mn(e.id);try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}}function Uu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function h0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gn={debug:!!(globalThis&&bh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ch extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class f0 extends Ch{}async function p0(t,e,n){gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),gn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new f0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(gn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}h0();const m0={url:Ng,storageKey:bg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Eg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zu(t,e,n){return await n()}const yn={};class Fr{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fr.nextInstanceID,Fr.nextInstanceID+=1,this.instanceID>0&&He()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},m0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new d0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Eh(s.fetch),this.lock=s.lock||zu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:He()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=p0:this.lock=zu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:bh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Uu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Uu(this.memoryStorage)),He()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=yn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){yn[this.storageKey]=Object.assign(Object.assign({},yn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=yn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){yn[this.storageKey]=Object.assign(Object.assign({},yn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Hg(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),He()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ag(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return $(n)?{error:n}:{error:new Sh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:it}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:p,options:h}=e;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await pn(this.storage,this.storageKey)),i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:p,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:y,code_challenge_method:w},xform:it})}else if("phone"in e){const{phone:d,password:p,options:h}=e;i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:it})}else throw new ys("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:l}=e;n=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Mu})}else if("phone"in e){const{phone:i,password:a,options:l}=e;n=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Mu})}else throw new ys("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new gs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,a,l,u,c,d,p,h,y;let w,v;if("message"in e)w=e.message,v=e.signature;else{const{chain:S,wallet:m,statement:f,options:g}=e;let x;if(He())if(typeof m=="object")x=m;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))x=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=m}const k=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const j=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),f?{statement:f}:null));let b;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")b=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)b=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)w=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),v=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${k.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((p=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...g.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const j=await x.signMessage(new TextEncoder().encode(w),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=j}}try{const{data:S,error:m}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:zg(v)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:it});if(m)throw m;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new gs}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:m})}catch(S){if($(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const n=await Wt(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:it});if(await wt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new gs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if($(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=e,l=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:it}),{data:u,error:c}=l;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new gs}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,a;try{if("email"in e){const{email:l,options:u}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await pn(this.storage,this.storageKey));const{error:p}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:l,options:u}=e,{data:c,error:d}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ys("You must provide either an email or phone number.")}catch(l){if($(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:it});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await pn(this.storage,this.storageKey)),await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:a0})}catch(i){if($(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new xt;const{error:s}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if($(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:a}=await M(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:a,error:l}=await M(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new ys("You must provide either an email or phone number and a type")}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Wt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<na:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Wt(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=ia()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:bt}):await this._useSession(async n=>{var r,s,i;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xt}:await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:bt})})}catch(n){if($(n))return Rg(n)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new xt;const a=s.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await pn(this.storage,this.storageKey));const{data:c,error:d}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:bt});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new xt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=sa(e.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if($(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:l}=n;if(l)throw l;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new xt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!He())throw new vs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new vs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ru("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ru("No code detected.");const{data:f,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:u,token_type:c}=e;if(!i||!l||!a||!c)throw new vs("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(l);let h=d+p;u&&(h=parseInt(u));const y=h-d;y*1e3<=vn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const w=h-p;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);const{data:v,error:S}=await this._getUser(i);if(S)throw S;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:h,refresh_token:a,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(r){if($(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Wt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(Og(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Bg(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await pn(this.storage,this.storageKey,!0));try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if($(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,l,u,c,d;const{data:p,error:h}=i;if(h)throw h;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await M(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return He()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if($(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await M(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Wg(async s=>(s>0&&await Kg(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:it})),(s,i)=>{const a=200*Math.pow(2,s);return i&&ra(i)&&Date.now()+a-r<vn})}catch(r){if(this._debug(n,"error",r),$(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),He()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Wt(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Wt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await wn(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:ia()}else if(s&&!s.user&&!s.user){const a=await Wt(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await wt(this.storage,this.storageKey+"-user"),await wn(this.storage,this.storageKey,s)):s.user=ia()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<na;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${na}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),ra(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new bi;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new xt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),$(i)){const a={session:null,error:i};return ra(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await wn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=structuredClone(s);await wn(this.storage,this.storageKey,i)}else{const s=structuredClone(n);await wn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&He()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/vn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${vn}ms, refresh threshold is ${so} ticks`),s<=so&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ch)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!He()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await pn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await M(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:c}=await M(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:l}=await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=sa(s.access_token);let l=null;a.aal&&(l=a.aal);let u=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+Tg>s)return r;const{data:i,error:a}=await M(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};r=y.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:u}}=sa(r);n!=null&&n.allowExpired||Zg(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:a},error:null}}const d=e0(s.alg),p=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,p,a,Ug(`${l}.${u}`)))throw new oo("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}}Fr.nextInstanceID=0;const g0=Fr;class y0 extends g0{constructor(e){super(e)}}var v0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{c(r.next(d))}catch(p){a(p)}}function u(d){try{c(r.throw(d))}catch(p){a(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class w0{constructor(e,n,r){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=jg(e),u=new URL(l);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:mg,realtime:yg,auth:Object.assign(Object.assign({},gg),{storageKey:c}),global:pg},p=Sg(r??{},d);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(h,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=p.auth)!==null&&a!==void 0?a:{},this.headers,p.global.fetch),this.fetch=_g(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new Dm(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new fm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new dg(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return v0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:a,lock:l,debug:u},c,d){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new y0({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Ym(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const x0=(t,e,n)=>new w0(t,e,n),_0="https://iuzeuhltcagvfjqvdidp.supabase.co",k0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml1emV1aGx0Y2FndmZqcXZkaWRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI0OTc3MzcsImV4cCI6MjA2ODA3MzczN30.l3Q9-0eu2THGmM4isUGcXd_q4pjmnKkDuBc5n87FnPA",ae=x0(_0,k0),Xn=()=>{const[t,e]=C.useState(null),[n,r]=C.useState(!0);return C.useEffect(()=>{ae.auth.getSession().then(({data:{session:u}})=>{e((u==null?void 0:u.user)??null),r(!1)});const{data:{subscription:l}}=ae.auth.onAuthStateChange((u,c)=>{e((c==null?void 0:c.user)??null),r(!1)});return()=>l.unsubscribe()},[]),{user:t,loading:n,signIn:async(l,u)=>{const{data:c,error:d}=await ae.auth.signInWithPassword({email:l,password:u});return{data:c,error:d}},signUp:async(l,u,c)=>{const{data:d,error:p}=await ae.auth.signUp({email:l,password:u});if(d.user&&!p){const{error:h}=await ae.from("employees").upsert([{id:d.user.id,name:c,email:l}],{onConflict:"id"});h&&console.error("Error creating employee record:",h)}return{data:d,error:p}},signOut:async()=>{try{const{error:l}=await ae.auth.signOut();return localStorage.clear(),sessionStorage.clear(),{error:l}}catch(l){return console.error("Sign out error:",l),localStorage.clear(),sessionStorage.clear(),{error:l}}}}},Th=t=>{const[e,n]=C.useState(null),[r,s]=C.useState(!0);return C.useEffect(()=>{if(!t){s(!1);return}(async()=>{const{data:a,error:l}=await ae.from("employees").select("*").eq("id",t).single();l?console.error("Error fetching employee:",l):n(a),s(!1)})()},[t]),{employee:e,loading:r}};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),S0=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Fu=t=>{const e=S0(t);return e.charAt(0).toUpperCase()+e.slice(1)},Ph=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),N0=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},u)=>C.createElement("svg",{ref:u,...b0,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Ph("lucide",s),...!i&&!N0(l)&&{"aria-hidden":"true"},...l},[...a.map(([c,d])=>C.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=(t,e)=>{const n=C.forwardRef(({className:r,...s},i)=>C.createElement(E0,{ref:i,iconNode:e,className:Ph(`lucide-${j0(Fu(t))}`,`lucide-${t}`,r),...s}));return n.displayName=Fu(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ht=H("calendar",C0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],hr=H("camera",T0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Bu=H("chart-column",P0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],R0=H("check",O0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],I0=H("circle-alert",A0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],L0=H("circle-check-big",$0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],st=H("clock",D0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],U0=H("coffee",M0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ul=H("dollar-sign",z0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],B0=H("download",F0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],V0=H("log-in",H0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],lo=H("lock",K0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Oh=H("log-out",W0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],cl=H("mail",q0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Hu=H("play",J0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Q0=H("plus",G0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Y0=H("rotate-ccw",X0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Rh=H("save",Z0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ty=H("settings",ey);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ry=H("shield",ny);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],dl=H("square-pen",sy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Vu=H("square",iy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ah=H("trash-2",ay);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ly=H("trending-up",oy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],cy=H("user-plus",uy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hl=H("user",dy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fl=H("users",hy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ri=H("x",fy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],my=H("zoom-in",py),gy=({onToggleMode:t})=>{const[e,n]=C.useState(""),[r,s]=C.useState(""),[i,a]=C.useState(!1),[l,u]=C.useState(""),{signIn:c}=Xn(),d=async p=>{p.preventDefault(),a(!0),u("");const{error:h}=await c(e,r);h&&u(h.message),a(!1)};return o.jsx("div",{className:"w-full max-w-md mx-auto",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"bg-pink-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(V0,{className:"w-8 h-8 text-pink-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Masuk ke Akun"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Silakan masuk untuk melanjutkan"})]}),o.jsxs("form",{onSubmit:d,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(cl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"email",value:e,onChange:p=>n(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"nama@email.com",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"password",value:r,onChange:p=>s(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"Masukkan password",required:!0})]})]}),l&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:o.jsx("p",{className:"text-red-600 text-sm",children:l})}),o.jsx("button",{type:"submit",disabled:i,className:"w-full bg-pink-600 text-white py-3 px-4 rounded-lg hover:bg-pink-700 focus:ring-2 focus:ring-pink-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Memproses...":"Masuk"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-gray-600",children:["Belum punya akun?"," ",o.jsx("button",{onClick:t,className:"text-pink-600 hover:text-pink-700 font-medium",children:"Daftar sekarang"})]})})]})})},yy=({onToggleMode:t})=>{const[e,n]=C.useState(""),[r,s]=C.useState(""),[i,a]=C.useState(""),[l,u]=C.useState(""),[c,d]=C.useState(!1),[p,h]=C.useState(""),{signUp:y}=Xn(),w=async v=>{if(v.preventDefault(),d(!0),h(""),i!==l){h("Password tidak cocok"),d(!1);return}const{error:S}=await y(r,i,e);S&&h(S.message),d(!1)};return o.jsx("div",{className:"w-full max-w-md mx-auto",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"bg-pink-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(cy,{className:"w-8 h-8 text-pink-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Buat Akun Baru"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Daftar untuk mulai menggunakan sistem absensi"})]}),o.jsxs("form",{onSubmit:w,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Lengkap"}),o.jsxs("div",{className:"relative",children:[o.jsx(hl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",value:e,onChange:v=>n(v.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"Masukkan nama lengkap",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(cl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"email",value:r,onChange:v=>s(v.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"nama@email.com",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"password",value:i,onChange:v=>a(v.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"Masukkan password",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Konfirmasi Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"password",value:l,onChange:v=>u(v.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"Ulangi password",required:!0})]})]}),p&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:o.jsx("p",{className:"text-red-600 text-sm",children:p})}),o.jsx("button",{type:"submit",disabled:c,className:"w-full bg-pink-600 text-white py-3 px-4 rounded-lg hover:bg-pink-700 focus:ring-2 focus:ring-pink-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?"Memproses...":"Daftar"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-gray-600",children:["Sudah punya akun?"," ",o.jsx("button",{onClick:t,className:"text-pink-600 hover:text-pink-700 font-medium",children:"Masuk di sini"})]})})]})})},vy=()=>{const[t,e]=C.useState(!0);return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-md",children:t?o.jsx(gy,{onToggleMode:()=>e(!1)}):o.jsx(yy,{onToggleMode:()=>e(!0)})})})},wy=()=>{const{user:t,signOut:e}=Xn(),{employee:n}=Th(t==null?void 0:t.id),r=async()=>{try{const{error:s}=await e();s&&(console.error("Sign out error:",s),window.location.reload())}catch(s){console.error("Sign out error:",s),window.location.reload()}};return o.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(st,{className:"w-8 h-8 text-pink-600 mr-3"}),o.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Sistem Absensi Sankiyo.id"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(hl,{className:"w-4 h-4 mr-2"}),o.jsx("span",{children:(n==null?void 0:n.name)||(t==null?void 0:t.email)})]}),o.jsxs("button",{onClick:r,className:"flex items-center text-sm text-gray-600 hover:text-gray-900 transition-colors",children:[o.jsx(Oh,{className:"w-4 h-4 mr-1"}),"Keluar"]})]})]})})})},xy=({onCapture:t,onCancel:e,isOpen:n})=>{const r=C.useRef(null),s=C.useRef(null),i=C.useRef(null),a=C.useRef(!1),[l,u]=C.useState(null),[c,d]=C.useState(!1),[p,h]=C.useState(null),[y,w]=C.useState(!1),v=C.useCallback(()=>{console.log(" Complete cleanup..."),a.current=!1,i.current&&(i.current.getTracks().forEach(x=>{x.stop(),console.log(` Stopped ${x.kind} track`)}),i.current=null),r.current&&(r.current.srcObject=null,r.current.removeAttribute("src"),r.current.load()),w(!1),d(!1),h(null)},[]),S=C.useCallback(async()=>{if(a.current){console.log(" Already initializing, skipping...");return}console.log(" Initializing camera..."),a.current=!0,i.current&&(i.current.getTracks().forEach(x=>x.stop()),i.current=null),d(!0),h(null),w(!1);try{const x=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:640,max:1280},height:{ideal:480,max:720}},audio:!1});if(console.log(" Got camera stream"),!n||!a.current){console.log(" Component unmounted or modal closed, stopping stream"),x.getTracks().forEach(z=>z.stop());return}i.current=x;const k=r.current;if(!k){console.error(" Video element not found"),x.getTracks().forEach(z=>z.stop()),h("Video element tidak ditemukan"),d(!1),a.current=!1;return}const j=()=>{console.log(" Video loaded data"),k.readyState>=2&&(console.log(" Video ready to play"),w(!0),d(!1),a.current=!1)},b=()=>{console.log(" Video can play"),w(!0),d(!1),a.current=!1},O=z=>{console.error(" Video error:",z),h("Gagal memuat video dari kamera"),d(!1),a.current=!1};k.removeEventListener("loadeddata",j),k.removeEventListener("canplay",b),k.removeEventListener("error",O),k.addEventListener("loadeddata",j),k.addEventListener("canplay",b),k.addEventListener("error",O),k.srcObject=x,k.muted=!0,k.playsInline=!0,k.autoplay=!0,setTimeout(()=>{k.srcObject&&a.current&&k.play().catch(z=>{console.error(" Error playing video:",z),h("Gagal memutar video kamera"),d(!1),a.current=!1})},100),setTimeout(()=>{c&&a.current&&(console.log(" Video loading timeout"),h("Kamera terlalu lama loading. Coba lagi."),d(!1),a.current=!1)},8e3)}catch(x){console.error(" Camera initialization error:",x);let k="Tidak dapat mengakses kamera";x.name==="NotAllowedError"?k="Akses kamera ditolak. Silakan izinkan akses kamera dan coba lagi.":x.name==="NotFoundError"?k="Kamera tidak ditemukan pada perangkat ini.":x.name==="NotReadableError"?k="Kamera sedang digunakan oleh aplikasi lain.":x.name==="OverconstrainedError"&&(k="Kamera tidak mendukung pengaturan yang diminta."),h(k),d(!1),a.current=!1}},[n]),m=C.useCallback(()=>{console.log(" Retrying camera..."),v(),setTimeout(()=>{n&&S()},500)},[v,S,n]),f=C.useCallback(()=>{const x=r.current,k=s.current;if(!x||!k||!y){h("Video belum siap untuk mengambil foto");return}try{const j=k.getContext("2d");if(!j)throw new Error("Tidak dapat mengakses canvas context");k.width=x.videoWidth||640,k.height=x.videoHeight||480,j.save(),j.scale(-1,1),j.drawImage(x,-k.width,0,k.width,k.height),j.restore();const b=k.toDataURL("image/jpeg",.9);u(b),console.log(" Photo captured successfully")}catch(j){console.error(" Capture error:",j),h("Gagal mengambil foto. Coba lagi.")}},[y]),g=C.useCallback(()=>{u(null),h(null)},[]);return C.useEffect(()=>(n&&!l&&(console.log(" Modal opened, initializing camera..."),S()),()=>{n||(console.log(" Modal closing, cleaning up..."),v())}),[n,l,S,v]),C.useEffect(()=>()=>{console.log(" Component unmounting..."),v()},[v]),n?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Ambil Foto Selfie"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(ri,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("div",{className:"relative bg-gray-900 rounded-xl overflow-hidden mb-4",children:[p?o.jsx("div",{className:"aspect-[4/3] flex items-center justify-center p-4",children:o.jsxs("div",{className:"text-center text-white",children:[o.jsx(I0,{className:"w-12 h-12 mx-auto mb-4 text-red-400"}),o.jsx("p",{className:"text-sm mb-4 px-2",children:p}),o.jsxs("div",{className:"flex flex-col space-y-2",children:[o.jsx("button",{onClick:m,disabled:c,className:"px-4 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 disabled:opacity-50 transition-colors text-sm",children:c?"Mencoba...":"Coba Lagi"}),o.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Refresh Halaman"})]})]})}):l?o.jsx("img",{src:l,alt:"Captured selfie",className:"w-full aspect-[4/3] object-cover"}):o.jsxs("div",{className:"aspect-[4/3] relative",children:[c&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 z-10",children:o.jsxs("div",{className:"text-center text-white",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Mengakses kamera..."})]})}),o.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover",style:{transform:"scaleX(-1)",opacity:y?1:0}})]}),o.jsx("canvas",{ref:s,className:"hidden"})]}),o.jsx("div",{className:"text-center mb-4",children:o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Pastikan wajah Anda terlihat jelas dan pencahayaan cukup"})}),o.jsx("div",{className:"flex space-x-3",children:l?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:g,className:"flex-1 flex items-center justify-center space-x-2 py-3 px-4 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-colors",children:[o.jsx(Y0,{className:"w-5 h-5"}),o.jsx("span",{children:"Ulangi"})]}),o.jsxs("button",{onClick:()=>t(l),className:"flex-1 flex items-center justify-center space-x-2 py-3 px-4 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors",children:[o.jsx(R0,{className:"w-5 h-5"}),o.jsx("span",{children:"Gunakan"})]})]}):o.jsxs("button",{onClick:f,disabled:!y||!!p||c,className:"w-full flex items-center justify-center space-x-2 py-3 px-4 bg-pink-600 text-white rounded-xl hover:bg-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:[o.jsx(hr,{className:"w-5 h-5"}),o.jsx("span",{children:p?"Kamera Error":c?"Memuat Kamera...":y?"Ambil Foto":"Menyiapkan..."})]})}),!1]})}):null},_y=({employeeId:t,onAttendanceUpdate:e})=>{var Ye;const[n,r]=C.useState(new Date),[s,i]=C.useState(null),[a,l]=C.useState("not_started"),[u,c]=C.useState(!1),[d,p]=C.useState([]),[h,y]=C.useState(!1),[w,v]=C.useState(null);C.useEffect(()=>{const _=setInterval(()=>{r(new Date)},1e3);return()=>clearInterval(_)},[]),C.useEffect(()=>{S(),m()},[t]),C.useEffect(()=>{const _=()=>{const D=new Date().toISOString().split("T")[0],E=s==null?void 0:s.date;(!s||E!==D)&&m()};_();const A=setInterval(_,6e4);return()=>clearInterval(A)},[s]);const S=async()=>{const{data:_,error:A}=await ae.from("shifts").select("*").order("name");!A&&_&&p(_)},m=async()=>{const _=new Date().toISOString().split("T")[0],{data:A,error:D}=await ae.from("attendance_records").select(`
        *,
        shift:shifts(*)
      `).eq("employee_id",t).eq("date",_).maybeSingle();!D&&A?(i(A),f(A)):(i(null),l("not_started"))},f=_=>{var A;_.check_in_1?_.check_in_1&&!_.check_out_1?l("checked_in_1"):_.check_out_1&&!_.check_in_2&&((A=_.shift)!=null&&A.has_break)?l("on_break"):_.check_in_2&&!_.check_out_2?l("checked_in_2"):l("completed"):l("not_started")},g=()=>{const _=new Date,A=new Date(_.toLocaleString("en-US",{timeZone:"Asia/Jakarta"})),D=A.getHours()*60+A.getMinutes();for(const E of d){const P=x(E.start_time_1),I=x(E.end_time_1);if(E.start_time_2&&E.end_time_2){const R=x(E.start_time_2),G=x(E.end_time_2);if(D>=P&&D<=I||D>=R&&D<=G)return E}else if(P>I){if(D>=P||D<=I)return E}else if(D>=P&&D<=I)return E}return null},x=_=>{const[A,D]=_.split(":").map(Number);return A*60+D},k=async()=>{y(!0),v(a)},j=async _=>{y(!1),c(!0);const A=new Date().toISOString(),D=new Date().toISOString().split("T")[0],E=g();if(!E){alert("Tidak ada shift yang aktif saat ini"),c(!1);return}try{if(w==="not_started"){const{error:P}=await ae.from("attendance_records").insert([{employee_id:t,date:D,check_in_1:A,shift_id:E.id,selfie_check_in_1:_}]);if(P)throw P}else if(w==="checked_in_1"){const{error:P}=await ae.from("attendance_records").update({check_out_1:A,selfie_check_out_1:_}).eq("employee_id",t).eq("date",D);if(P)throw P}else if(w==="on_break"){const{error:P}=await ae.from("attendance_records").update({check_in_2:A,selfie_check_in_2:_}).eq("employee_id",t).eq("date",D);if(P)throw P}else if(w==="checked_in_2"){const{error:P}=await ae.from("attendance_records").update({check_out_2:A,selfie_check_out_2:_}).eq("employee_id",t).eq("date",D);if(P)throw P;await O()}await m(),e()}catch(P){console.error("Error updating attendance:",P),alert("Terjadi kesalahan saat memperbarui absensi")}v(null),c(!1)},b=()=>{y(!1),v(null)},O=async()=>{try{const{error:_}=await ae.functions.invoke("calculate-salary",{body:{employee_id:t,date:new Date().toISOString().split("T")[0]}});_&&console.error("Error calculating salary:",_)}catch(_){console.error("Error invoking salary calculation:",_)}},z=()=>{var _;switch(a){case"not_started":return"Masuk Kerja";case"checked_in_1":return(_=s==null?void 0:s.shift)!=null&&_.has_break?"Istirahat":"Pulang";case"on_break":return"Masuk Lagi";case"checked_in_2":return"Pulang";case"completed":return"Selesai";default:return"Absen"}},L=()=>{var _;switch(a){case"not_started":return o.jsx(Hu,{className:"w-5 h-5"});case"checked_in_1":return(_=s==null?void 0:s.shift)!=null&&_.has_break?o.jsx(U0,{className:"w-5 h-5"}):o.jsx(Vu,{className:"w-5 h-5"});case"on_break":return o.jsx(Hu,{className:"w-5 h-5"});case"checked_in_2":return o.jsx(Vu,{className:"w-5 h-5"});case"completed":return o.jsx(L0,{className:"w-5 h-5"});default:return o.jsx(st,{className:"w-5 h-5"})}},ge=()=>{switch(a){case"not_started":return"Belum absen hari ini";case"checked_in_1":return"Sedang bekerja";case"on_break":return"Sedang istirahat";case"checked_in_2":return"Sedang bekerja (sesi 2)";case"completed":return"Absensi hari ini selesai";default:return"Status tidak diketahui"}},Ie=_=>_.toLocaleTimeString("id-ID",{timeZone:"Asia/Jakarta",hour:"2-digit",minute:"2-digit",second:"2-digit"}),Xe=_=>_.toLocaleDateString("id-ID",{timeZone:"Asia/Jakarta",weekday:"long",year:"numeric",month:"long",day:"numeric"});return o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"text-4xl font-mono font-bold text-gray-900 mb-2",children:Ie(n)}),o.jsx("div",{className:"text-gray-600",children:Xe(n)})]}),o.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[o.jsxs("div",{className:"flex items-center justify-center mb-2",children:[o.jsx(st,{className:"w-5 h-5 text-pink-500 mr-2"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status Absensi"})]}),o.jsx("div",{className:"text-center",children:o.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${a==="completed"?"bg-green-100 text-green-800":a==="not_started"?"bg-gray-100 text-gray-800":"bg-pink-100 text-pink-800"}`,children:ge()})})]}),s&&o.jsxs("div",{className:"bg-pink-50 rounded-xl p-4 mb-6",children:[o.jsx("h3",{className:"font-medium text-pink-900 mb-3",children:"Aktivitas Hari Ini"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[s.check_in_1&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-pink-700",children:"Masuk:"}),o.jsx("span",{className:"font-medium",children:new Date(s.check_in_1).toLocaleTimeString("id-ID")})]}),s.check_out_1&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-pink-700",children:(Ye=s.shift)!=null&&Ye.has_break?"Istirahat:":"Pulang:"}),o.jsx("span",{className:"font-medium",children:new Date(s.check_out_1).toLocaleTimeString("id-ID")})]}),s.check_in_2&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-pink-700",children:"Masuk Lagi:"}),o.jsx("span",{className:"font-medium",children:new Date(s.check_in_2).toLocaleTimeString("id-ID")})]}),s.check_out_2&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-pink-700",children:"Pulang:"}),o.jsx("span",{className:"font-medium",children:new Date(s.check_out_2).toLocaleTimeString("id-ID")})]}),s.calculated_work_hours&&o.jsxs("div",{className:"flex justify-between pt-2 border-t border-pink-200",children:[o.jsx("span",{className:"text-pink-700 font-medium",children:"Total Jam:"}),o.jsxs("span",{className:"font-bold",children:[s.calculated_work_hours.toFixed(1)," jam"]})]}),s.calculated_salary&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-pink-700 font-medium",children:"Gaji:"}),o.jsxs("span",{className:"font-bold text-green-600",children:["Rp ",s.calculated_salary.toLocaleString("id-ID")]})]})]})]}),o.jsxs("button",{onClick:k,disabled:u||a==="completed",className:`w-full flex items-center justify-center space-x-2 py-4 px-6 rounded-xl font-medium transition-colors ${a==="completed"?"bg-gray-100 text-gray-500 cursor-not-allowed":"bg-pink-600 text-white hover:bg-pink-700 active:bg-pink-800"}`,children:[L(),o.jsx("span",{children:u?"Memproses...":z()})]}),o.jsx(xy,{isOpen:h,onCapture:j,onCancel:b})]})},ky=({employeeId:t})=>{const[e,n]=C.useState([]),[r,s]=C.useState(!0),[i,a]=C.useState(new Date().toISOString().slice(0,7));C.useEffect(()=>{l()},[t,i]);const l=async()=>{s(!0);const h=`${i}-01`,y=`${i}-31`,{data:w,error:v}=await ae.from("attendance_records").select(`
        *,
        shift:shifts(*)
      `).eq("employee_id",t).gte("date",h).lte("date",y).order("date",{ascending:!1});!v&&w&&n(w),s(!1)},u=()=>{const h=e.length,y=e.reduce((v,S)=>v+(S.calculated_work_hours||0),0),w=e.reduce((v,S)=>v+(S.calculated_salary||0),0);return{totalDays:h,totalHours:y,totalSalary:w}},c=h=>new Date(h).toLocaleDateString("id-ID",{timeZone:"Asia/Jakarta",weekday:"long",day:"numeric",month:"long"}),d=h=>new Date(h).toLocaleTimeString("id-ID",{timeZone:"Asia/Jakarta",hour:"2-digit",minute:"2-digit"}),p=u();return r?o.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-6 bg-gray-200 rounded mb-4"}),o.jsx("div",{className:"space-y-3",children:[...Array(5)].map((h,y)=>o.jsx("div",{className:"h-16 bg-gray-200 rounded"},y))})]})}):o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[o.jsx(ht,{className:"w-6 h-6 mr-2 text-pink-600"}),"Riwayat Absensi"]}),o.jsx("input",{type:"month",value:i,onChange:h=>a(h.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx("div",{className:"bg-pink-50 rounded-xl p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(ht,{className:"w-8 h-8 text-pink-600 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-pink-600 font-medium",children:"Hari Kerja"}),o.jsx("p",{className:"text-2xl font-bold text-pink-900",children:p.totalDays})]})]})}),o.jsx("div",{className:"bg-green-50 rounded-xl p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(st,{className:"w-8 h-8 text-green-600 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Jam"}),o.jsx("p",{className:"text-2xl font-bold text-green-900",children:p.totalHours.toFixed(1)})]})]})}),o.jsx("div",{className:"bg-yellow-50 rounded-xl p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(ul,{className:"w-8 h-8 text-yellow-600 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-yellow-600 font-medium",children:"Total Gaji"}),o.jsxs("p",{className:"text-2xl font-bold text-yellow-900",children:["Rp ",p.totalSalary.toLocaleString("id-ID")]})]})]})})]}),o.jsx("div",{className:"space-y-4",children:e.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(ht,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),o.jsx("p",{children:"Tidak ada data absensi untuk bulan ini"})]}):e.map(h=>{var y,w;return o.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:c(h.date)}),o.jsx("p",{className:"text-sm text-gray-600",children:(y=h.shift)==null?void 0:y.name})]}),o.jsxs("div",{className:"text-right",children:[h.calculated_work_hours&&o.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[h.calculated_work_hours.toFixed(1)," jam"]}),h.calculated_salary&&o.jsxs("p",{className:"text-sm font-bold text-green-600",children:["Rp ",h.calculated_salary.toLocaleString("id-ID")]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[h.check_in_1&&o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Masuk"}),o.jsx("p",{className:"font-medium",children:d(h.check_in_1)})]}),h.check_out_1&&o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:(w=h.shift)!=null&&w.has_break?"Istirahat":"Pulang"}),o.jsx("p",{className:"font-medium",children:d(h.check_out_1)})]}),h.check_in_2&&o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Masuk Lagi"}),o.jsx("p",{className:"font-medium",children:d(h.check_in_2)})]}),h.check_out_2&&o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Pulang"}),o.jsx("p",{className:"font-medium",children:d(h.check_out_2)})]})]})]},h.id)})})]})},jy=()=>{const{user:t}=Xn(),[e,n]=C.useState(0),r=()=>{n(s=>s+1)};return t?o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(wy,{}),o.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx("div",{children:o.jsx(_y,{employeeId:t.id,onAttendanceUpdate:r})}),o.jsx("div",{children:o.jsx(ky,{employeeId:t.id},e)})]})})]}):null},Sy=({children:t,activeTab:e,onTabChange:n})=>{const{signOut:r}=Xn(),s=[{id:"dashboard",label:"Dashboard",icon:Bu},{id:"employees",label:"Karyawan",icon:fl},{id:"attendance",label:"Absensi",icon:ht},{id:"shifts",label:"Shift",icon:ty},{id:"reports",label:"Laporan",icon:Bu}],i=async()=>{try{const{error:a}=await r();a&&(console.error("Admin sign out error:",a),window.location.reload())}catch(a){console.error("Admin sign out error:",a),window.location.reload()}};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(ry,{className:"w-8 h-8 text-pink-600 mr-3"}),o.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Panel - Sankiyo.id"})]}),o.jsxs("button",{onClick:i,className:"flex items-center text-sm text-gray-600 hover:text-gray-900 transition-colors",children:[o.jsx(Oh,{className:"w-4 h-4 mr-1"}),"Keluar"]})]})})}),o.jsxs("div",{className:"flex",children:[o.jsx("nav",{className:"w-64 bg-white shadow-sm min-h-screen",children:o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"space-y-2",children:s.map(a=>{const l=a.icon;return o.jsxs("button",{onClick:()=>n(a.id),className:`w-full flex items-center px-4 py-3 text-left rounded-lg transition-colors ${e===a.id?"bg-pink-50 text-pink-700 border border-pink-200":"text-gray-600 hover:bg-gray-50"}`,children:[o.jsx(l,{className:"w-5 h-5 mr-3"}),a.label]},a.id)})})})}),o.jsx("main",{className:"flex-1 p-8",children:t})]})]})},Ny="https://iuzeuhltcagvfjqvdidp.supabase.co/functions/v1/admin-data",qt=async(t,e,n)=>{const{data:{session:r}}=await ae.auth.getSession();if(!r)throw new Error("Not authenticated");const s=await fetch(Ny,{method:"POST",headers:{Authorization:`Bearer ${r.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({action:t,data:e,filters:n})});if(!s.ok){const a=await s.json();throw new Error(a.error||"Request failed")}return(await s.json()).data},Qr=()=>{const[t,e]=C.useState([]),[n,r]=C.useState([]),[s,i]=C.useState([]),[a,l]=C.useState(!1),u=async()=>{l(!0);try{console.log("Fetching employees...");const m=await qt("fetchEmployees");console.log("Employees fetched:",m),e(m)}catch(m){console.error("Error fetching employees:",m)}l(!1)},c=async(m,f)=>{l(!0);try{if(!m&&!f){const k=new Date().toISOString().slice(0,7);m=`${k}-01`,f=`${k}-31`}const g=await qt("fetchAttendanceRecords",null,{startDate:m,endDate:f});r(g||[])}catch(g){console.error("Error fetching attendance records:",g),r([])}l(!1)},d=async()=>{const{data:m,error:f}=await ae.from("shifts").select("*").order("name");!f&&m&&i(m)},p=async m=>{try{console.log("Creating employee with data:",m);const f=await qt("createEmployee",m);return console.log("Employee created successfully:",f),await u(),{data:f,error:null}}catch(f){return console.error("Error in createEmployee:",f),{data:null,error:f}}},h=async(m,f)=>{try{console.log("Updating employee:",m,"with updates:",f);const g=await qt("updateEmployee",{id:m,updates:f});return console.log("Employee updated successfully:",g),await u(),{data:g,error:null}}catch(g){return console.error("Error in updateEmployee:",g),{data:null,error:g}}},y=async m=>{try{return await qt("deleteEmployee",{id:m}),await u(),{error:null}}catch(f){return{error:f}}},w=async(m,f)=>{console.log("Updating shift:",m,"with updates:",f);const{data:g,error:x}=await ae.from("shifts").update(f).eq("id",m).select();if(x)return console.error("Error updating shift:",x),{data:null,error:x};if(!g||g.length===0){const j=new Error(`No shift found with ID: ${m}`);return console.error("Shift not found:",j),{data:null,error:j}}const k=g[0];return console.log("Shift updated successfully:",k),i(j=>j.map(b=>b.id===m?{...b,...f}:b)),{data:k,error:null}},v=async(m,f)=>{try{const g=await qt("updateAttendanceRecord",{id:m,updates:f});return await c(),{data:g,error:null}}catch(g){return{data:null,error:g}}},S=async m=>{try{return await qt("deleteAttendanceRecord",{id:m}),await c(),{error:null}}catch(f){return{error:f}}};return C.useEffect(()=>{u(),d(),c();const m=setInterval(()=>{c()},3e5);return()=>clearInterval(m)},[]),{employees:t,attendanceRecords:n,shifts:s,loading:a,fetchEmployees:u,fetchAttendanceRecords:c,fetchShifts:d,createEmployee:p,updateEmployee:h,deleteEmployee:y,updateShift:w,updateAttendanceRecord:v,deleteAttendanceRecord:S}},Ku=()=>{const{employees:t,attendanceRecords:e,loading:n}=Qr(),[r,s]=C.useState({totalEmployees:0,todayAttendance:0,totalHoursToday:0,totalSalaryToday:0,monthlyAttendance:0,monthlySalary:0});C.useEffect(()=>{i()},[t,e]);const i=()=>{const a=new Date().toISOString().split("T")[0],l=new Date().toISOString().slice(0,7),u=e.filter(y=>y.date===a),c=e.filter(y=>y.date.startsWith(l)),d=u.reduce((y,w)=>y+(w.calculated_work_hours||0),0),p=u.reduce((y,w)=>y+(w.calculated_salary||0),0),h=c.reduce((y,w)=>y+(w.calculated_salary||0),0);s({totalEmployees:t.length,todayAttendance:u.length,totalHoursToday:d,totalSalaryToday:p,monthlyAttendance:c.length,monthlySalary:h})};return n?o.jsx("div",{className:"animate-pulse",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((a,l)=>o.jsx("div",{className:"bg-white rounded-xl p-6 h-32"},l))})}):o.jsxs("div",{children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Ringkasan sistem absensi hari ini"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"bg-pink-100 p-3 rounded-lg",children:o.jsx(fl,{className:"w-6 h-6 text-pink-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Karyawan"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.totalEmployees})]})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"bg-pink-100 p-3 rounded-lg",children:o.jsx(ht,{className:"w-6 h-6 text-pink-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Absensi Hari Ini"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.todayAttendance})]})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:o.jsx(st,{className:"w-6 h-6 text-yellow-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Jam Kerja Hari Ini"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.totalHoursToday.toFixed(1)})]})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:o.jsx(ul,{className:"w-6 h-6 text-purple-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Gaji Hari Ini"}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["Rp ",r.totalSalaryToday.toLocaleString("id-ID")]})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Statistik Bulanan"}),o.jsx(ly,{className:"w-5 h-5 text-green-500"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Total Absensi"}),o.jsx("span",{className:"font-semibold",children:r.monthlyAttendance})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Total Gaji"}),o.jsxs("span",{className:"font-semibold text-green-600",children:["Rp ",r.monthlySalary.toLocaleString("id-ID")]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Absensi Terbaru"}),o.jsx(ht,{className:"w-5 h-5 text-blue-500"})]}),o.jsx("div",{className:"space-y-3",children:e.slice(0,5).map(a=>{var l,u,c;return o.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:(l=a.employee)==null?void 0:l.name}),o.jsx("p",{className:"text-sm text-gray-500",children:a.date})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm font-medium",children:[(u=a.calculated_work_hours)==null?void 0:u.toFixed(1)," jam"]}),o.jsxs("p",{className:"text-xs text-green-600",children:["Rp ",(c=a.calculated_salary)==null?void 0:c.toLocaleString("id-ID")]})]})]},a.id)})})]})]})]})},by=()=>{const{employees:t,shifts:e,loading:n,createEmployee:r,updateEmployee:s,deleteEmployee:i}=Qr(),[a,l]=C.useState(!1),[u,c]=C.useState(null),[d,p]=C.useState({name:"",email:"",assigned_shift_id:"",password:""}),[h,y]=C.useState(!1),w=async f=>{if(f.preventDefault(),y(!0),u){const{error:g}=await s(u.id,{name:d.name,email:d.email,assigned_shift_id:d.assigned_shift_id||void 0});if(g){alert("Error updating employee: "+(g instanceof Error?g.message:"Unknown error")),y(!1);return}}else{const{error:g}=await r(d);if(g){alert("Error creating employee: "+(g instanceof Error?g.message:"Unknown error")),y(!1);return}}y(!1),l(!1),c(null),p({name:"",email:"",assigned_shift_id:"",password:""})},v=f=>{c(f),p({name:f.name,email:f.email,assigned_shift_id:f.assigned_shift_id||"",password:""}),l(!0)},S=async f=>{confirm("Apakah Anda yakin ingin menghapus karyawan ini?")&&await i(f)},m=()=>{p({name:"",email:"",assigned_shift_id:"",password:""}),c(null),l(!1)};return n?o.jsx("div",{className:"animate-pulse",children:"Loading..."}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Manajemen Karyawan"}),o.jsx("p",{className:"text-gray-600",children:"Kelola data karyawan dan assignment shift"})]}),o.jsxs("button",{onClick:()=>l(!0),className:"flex items-center space-x-2 bg-pink-600 text-white px-4 py-2 rounded-lg hover:bg-pink-700 transition-colors",children:[o.jsx(Q0,{className:"w-5 h-5"}),o.jsx("span",{children:"Tambah Karyawan"})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Karyawan"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shift"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bergabung"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(f=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"bg-pink-100 p-2 rounded-full mr-3",children:o.jsx(hl,{className:"w-5 h-5 text-pink-600"})}),o.jsx("div",{children:o.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.name})})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[o.jsx(cl,{className:"w-4 h-4 mr-2"}),f.email]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.assigned_shift_id&&f.shift?o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[o.jsx(st,{className:"w-3 h-3 mr-1"}),f.shift.name]}):f.assigned_shift_id?o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[o.jsx(st,{className:"w-3 h-3 mr-1"}),"Loading shift..."]}):o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Belum ditentukan"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Aktif"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(f.created_at).toLocaleDateString("id-ID",{timeZone:"Asia/Jakarta"})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[o.jsx("button",{onClick:()=>v(f),className:"text-pink-600 hover:text-pink-900 mr-3",children:o.jsx(dl,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>S(f.id),className:"text-red-600 hover:text-red-900",children:o.jsx(Ah,{className:"w-4 h-4"})})]})]},f.id))})]})})}),a&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:u?"Edit Karyawan":"Tambah Karyawan"}),o.jsxs("form",{onSubmit:w,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Lengkap"}),o.jsx("input",{type:"text",value:d.name,onChange:f=>p({...d,name:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:d.email,onChange:f=>p({...d,email:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",required:!0})]}),!u&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),o.jsx("input",{type:"password",value:d.password,onChange:f=>p({...d,password:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"Masukkan password untuk karyawan",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shift"}),o.jsxs("select",{value:d.assigned_shift_id,onChange:f=>p({...d,assigned_shift_id:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Pilih Shift"}),e.map(f=>o.jsxs("option",{value:f.id,children:[f.name," (",f.start_time_1.slice(0,5)," - ",f.end_time_1.slice(0,5),")"]},f.id))]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Pilih shift kerja untuk karyawan ini"})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:m,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Batal"}),o.jsx("button",{type:"submit",disabled:h,className:"flex-1 px-4 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h?"Memproses...":u?"Update":"Simpan"})]})]})]})})]})},Ey=()=>{const{attendanceRecords:t,loading:e,fetchAttendanceRecords:n,updateAttendanceRecord:r,deleteAttendanceRecord:s}=Qr(),[i,a]=C.useState(new Date().toISOString().split("T")[0]),[l,u]=C.useState(new Date().toISOString().slice(0,7)),[c,d]=C.useState("daily"),[p,h]=C.useState(null),[y,w]=C.useState(""),[v,S]=C.useState(null),[m,f]=C.useState({}),g=_=>{a(_),c==="daily"&&n(_,_)},x=_=>{if(u(_),c==="monthly"){const A=`${_}-01`,D=`${_}-31`;n(A,D)}},k=_=>{if(d(_),_==="daily")n(i,i);else{const A=`${l}-01`,D=`${l}-31`;n(A,D)}};C.useEffect(()=>{if(c==="daily")n(i,i);else{const A=`${l}-01`,D=`${l}-31`;n(A,D)}const _=setInterval(()=>{if(c==="daily")n(i,i);else{const A=`${l}-01`,D=`${l}-31`;n(A,D)}},3e4);return()=>clearInterval(_)},[c,i,l]);const j=_=>new Date(_).toLocaleTimeString("id-ID",{timeZone:"Asia/Jakarta",hour:"2-digit",minute:"2-digit"}),b=_=>new Date(_).toLocaleDateString("id-ID",{timeZone:"Asia/Jakarta",weekday:"long",day:"numeric",month:"long",year:"numeric"}),O=_=>{S(_.id),f({check_in_1:_.check_in_1?new Date(_.check_in_1).toISOString().slice(0,16):"",check_out_1:_.check_out_1?new Date(_.check_out_1).toISOString().slice(0,16):"",check_in_2:_.check_in_2?new Date(_.check_in_2).toISOString().slice(0,16):"",check_out_2:_.check_out_2?new Date(_.check_out_2).toISOString().slice(0,16):"",calculated_work_hours:_.calculated_work_hours,calculated_salary:_.calculated_salary})},z=async()=>{if(v&&m){const _={...m,check_in_1:m.check_in_1?new Date(m.check_in_1).toISOString():null,check_out_1:m.check_out_1?new Date(m.check_out_1).toISOString():null,check_in_2:m.check_in_2?new Date(m.check_in_2).toISOString():null,check_out_2:m.check_out_2?new Date(m.check_out_2).toISOString():null},{error:A}=await r(v,_);A?alert("Error updating record: "+A.message):(S(null),f({}))}},L=()=>{S(null),f({})},ge=async(_,A)=>{if(confirm(`Apakah Anda yakin ingin menghapus data absensi ${A}?`)){const{error:D}=await s(_);D&&alert("Error deleting record: "+D.message)}},Ie=(_,A)=>{h(_),w(A)},Xe=()=>{h(null),w("")},Ye=t.filter(_=>c==="daily"?_.date===i:_.date.startsWith(l));return e?o.jsx("div",{className:"animate-pulse",children:"Loading..."}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Overview Absensi"}),o.jsx("p",{className:"text-gray-600",children:"Pantau absensi karyawan secara real-time"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>k("daily"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${c==="daily"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Harian"}),o.jsx("button",{onClick:()=>k("monthly"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${c==="monthly"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Bulanan"})]}),c==="daily"?o.jsx("input",{type:"date",value:i,onChange:_=>g(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent"}):o.jsx("input",{type:"month",value:l,onChange:_=>x(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"bg-pink-100 p-3 rounded-lg",children:o.jsx(ht,{className:"w-6 h-6 text-pink-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Absensi"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ye.length})]})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:o.jsx(st,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Jam Kerja"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ye.reduce((_,A)=>_+(A.calculated_work_hours||0),0).toFixed(1)})]})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:o.jsx(ht,{className:"w-6 h-6 text-yellow-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Gaji"}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["Rp ",Ye.reduce((_,A)=>_+(A.calculated_salary||0),0).toLocaleString("id-ID")]})]})]})})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Karyawan"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tanggal"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shift"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Jam Masuk"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Jam Keluar"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Jam"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gaji"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Selfie"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ye.map(_=>{var A,D,E,P,I;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:(A=_.employee)==null?void 0:A.name}),o.jsx("div",{className:"text-sm text-gray-500",children:(D=_.employee)==null?void 0:D.email})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c==="daily"?b(_.date):_.date}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-pink-100 text-pink-800",children:(E=_.shift)==null?void 0:E.name})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v===_.id?o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"datetime-local",value:m.check_in_1||"",onChange:R=>f({...m,check_in_1:R.target.value}),className:"w-full text-xs px-2 py-1 border border-gray-300 rounded",placeholder:"Masuk 1"}),m.check_in_2!==void 0&&o.jsx("input",{type:"datetime-local",value:m.check_in_2||"",onChange:R=>f({...m,check_in_2:R.target.value}),className:"w-full text-xs px-2 py-1 border border-gray-300 rounded",placeholder:"Masuk 2"})]}):o.jsxs("div",{className:"space-y-1",children:[_.check_in_1&&o.jsxs("div",{children:["Sesi 1: ",j(_.check_in_1)]}),_.check_in_2&&o.jsxs("div",{children:["Sesi 2: ",j(_.check_in_2)]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v===_.id?o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"datetime-local",value:m.check_out_1||"",onChange:R=>f({...m,check_out_1:R.target.value}),className:"w-full text-xs px-2 py-1 border border-gray-300 rounded",placeholder:"Keluar 1"}),m.check_out_2!==void 0&&o.jsx("input",{type:"datetime-local",value:m.check_out_2||"",onChange:R=>f({...m,check_out_2:R.target.value}),className:"w-full text-xs px-2 py-1 border border-gray-300 rounded",placeholder:"Keluar 2"})]}):o.jsxs("div",{className:"space-y-1",children:[_.check_out_1&&o.jsxs("div",{children:["Sesi 1: ",j(_.check_out_1)]}),_.check_out_2&&o.jsxs("div",{children:["Sesi 2: ",j(_.check_out_2)]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:v===_.id?o.jsx("input",{type:"number",step:"0.1",value:m.calculated_work_hours||"",onChange:R=>f({...m,calculated_work_hours:parseFloat(R.target.value)}),className:"w-20 text-xs px-2 py-1 border border-gray-300 rounded"}):`${(P=_.calculated_work_hours)==null?void 0:P.toFixed(1)} jam`}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:v===_.id?o.jsx("input",{type:"number",value:m.calculated_salary||"",onChange:R=>f({...m,calculated_salary:parseInt(R.target.value)}),className:"w-24 text-xs px-2 py-1 border border-gray-300 rounded"}):`Rp ${(I=_.calculated_salary)==null?void 0:I.toLocaleString("id-ID")}`}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex space-x-1",children:[_.selfie_check_in_1&&o.jsx("button",{onClick:()=>{var R;return Ie(_.selfie_check_in_1,`${(R=_.employee)==null?void 0:R.name} - Masuk Sesi 1`)},className:"p-1 text-pink-600 hover:text-pink-800 hover:bg-pink-50 rounded transition-colors",title:"Selfie Masuk 1",children:o.jsx(hr,{className:"w-4 h-4"})}),_.selfie_check_out_1&&o.jsx("button",{onClick:()=>{var R,G;return Ie(_.selfie_check_out_1,`${(R=_.employee)==null?void 0:R.name} - ${(G=_.shift)!=null&&G.has_break?"Istirahat":"Pulang"} Sesi 1`)},className:"p-1 text-green-600 hover:text-green-800 hover:bg-green-50 rounded transition-colors",title:"Selfie Keluar 1",children:o.jsx(hr,{className:"w-4 h-4"})}),_.selfie_check_in_2&&o.jsx("button",{onClick:()=>{var R;return Ie(_.selfie_check_in_2,`${(R=_.employee)==null?void 0:R.name} - Masuk Sesi 2`)},className:"p-1 text-pink-600 hover:text-pink-800 hover:bg-pink-50 rounded transition-colors",title:"Selfie Masuk 2",children:o.jsx(hr,{className:"w-4 h-4"})}),_.selfie_check_out_2&&o.jsx("button",{onClick:()=>{var R;return Ie(_.selfie_check_out_2,`${(R=_.employee)==null?void 0:R.name} - Pulang Sesi 2`)},className:"p-1 text-green-600 hover:text-green-800 hover:bg-green-50 rounded transition-colors",title:"Selfie Keluar 2",children:o.jsx(hr,{className:"w-4 h-4"})}),!_.selfie_check_in_1&&!_.selfie_check_out_1&&!_.selfie_check_in_2&&!_.selfie_check_out_2&&o.jsx("span",{className:"text-xs text-gray-400 px-2 py-1",children:"Tidak ada foto"})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:v===_.id?o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:z,className:"p-1 text-green-600 hover:text-green-900 hover:bg-green-50 rounded transition-colors",title:"Simpan",children:o.jsx(Rh,{className:"w-4 h-4"})}),o.jsx("button",{onClick:L,className:"p-1 text-red-600 hover:text-red-900 hover:bg-red-50 rounded transition-colors",title:"Batal",children:o.jsx(ri,{className:"w-4 h-4"})})]}):o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>O(_),className:"p-1 text-pink-600 hover:text-pink-900 hover:bg-pink-50 rounded transition-colors",title:"Edit",children:o.jsx(dl,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{var R;return ge(_.id,((R=_.employee)==null?void 0:R.name)||"Unknown")},className:"p-1 text-red-600 hover:text-red-900 hover:bg-red-50 rounded transition-colors",title:"Hapus",children:o.jsx(Ah,{className:"w-4 h-4"})})]})})]},_.id)})})]})})}),p&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:Xe,children:o.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-auto",onClick:_=>_.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Foto Selfie"}),o.jsx("p",{className:"text-sm text-gray-600",children:y})]}),o.jsx("button",{onClick:Xe,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(ri,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:p,alt:"Selfie",className:"w-full rounded-lg shadow-lg",style:{maxHeight:"70vh",objectFit:"contain"}}),o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx("button",{onClick:()=>window.open(p,"_blank"),className:"p-2 bg-white bg-opacity-90 hover:bg-opacity-100 rounded-full shadow-lg transition-all",title:"Buka di tab baru",children:o.jsx(my,{className:"w-4 h-4 text-gray-700"})})})]}),o.jsx("div",{className:"mt-4 flex justify-center",children:o.jsx("button",{onClick:()=>{const _=document.createElement("a");_.href=p,_.download=`selfie-${y.replace(/\s+/g,"-").toLowerCase()}.jpg`,_.click()},className:"px-4 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 transition-colors",children:"Download Foto"})})]})})]})},Cy=()=>{const{shifts:t,loading:e,updateShift:n,fetchShifts:r}=Qr(),[s,i]=C.useState(null),[a,l]=C.useState({}),u=h=>{i(h.id),l({...h,start_time_1:h.start_time_1,end_time_1:h.end_time_1,start_time_2:h.start_time_2,end_time_2:h.end_time_2,expected_hours:h.expected_hours,has_break:h.has_break})},c=async()=>{if(s&&a)try{console.log("Saving shift with data:",a);const{error:h}=await n(s,a);h?(console.error("Error updating shift:",h),alert("Gagal mengupdate shift: "+h.message)):(console.log("Shift updated successfully"),i(null),l({}))}catch(h){console.error("Error updating shift:",h),alert("Terjadi kesalahan saat mengupdate shift")}finally{await r()}},d=()=>{i(null),l({})},p=h=>h.slice(0,5);return e?o.jsx("div",{className:"animate-pulse",children:"Loading..."}):o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Manajemen Shift"}),o.jsx("p",{className:"text-gray-600",children:"Kelola jadwal shift karyawan"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(h=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"bg-pink-100 p-3 rounded-lg mr-4",children:o.jsx(st,{className:"w-6 h-6 text-pink-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:h.name}),o.jsx("p",{className:"text-sm text-gray-500",children:h.has_break?"Dengan istirahat":"Tanpa istirahat"})]})]}),s===h.id?o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:c,className:"p-2 text-pink-600 hover:bg-pink-50 rounded-lg transition-colors",children:o.jsx(Rh,{className:"w-4 h-4"})}),o.jsx("button",{onClick:d,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:o.jsx(ri,{className:"w-4 h-4"})})]}):o.jsx("button",{onClick:()=>u(h),className:"p-2 text-pink-600 hover:bg-pink-50 rounded-lg transition-colors",children:o.jsx(dl,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Sesi 1"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jam Masuk"}),s===h.id?o.jsx("input",{type:"time",value:p(a.start_time_1||h.start_time_1),onChange:y=>l({...a,start_time_1:y.target.value+":00"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent"}):o.jsx("div",{className:"px-3 py-2 bg-white border border-gray-300 rounded-lg",children:p(h.start_time_1)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jam Keluar"}),s===h.id?o.jsx("input",{type:"time",value:p(a.end_time_1||h.end_time_1),onChange:y=>l({...a,end_time_1:y.target.value+":00"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent"}):o.jsx("div",{className:"px-3 py-2 bg-white border border-gray-300 rounded-lg",children:p(h.end_time_1)})]})]})]}),h.has_break&&h.start_time_2&&h.end_time_2&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Sesi 2"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jam Masuk"}),s===h.id?o.jsx("input",{type:"time",value:p(a.start_time_2||h.start_time_2),onChange:y=>l({...a,start_time_2:y.target.value+":00"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent"}):o.jsx("div",{className:"px-3 py-2 bg-white border border-gray-300 rounded-lg",children:p(h.start_time_2)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jam Keluar"}),s===h.id?o.jsx("input",{type:"time",value:p(a.end_time_2||h.end_time_2),onChange:y=>l({...a,end_time_2:y.target.value+":00"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent"}):o.jsx("div",{className:"px-3 py-2 bg-white border border-gray-300 rounded-lg",children:p(h.end_time_2)})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Pengaturan"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Jam Kerja"}),s===h.id?o.jsx("input",{type:"number",min:"1",max:"12",value:a.expected_hours||h.expected_hours,onChange:y=>l({...a,expected_hours:parseInt(y.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent"}):o.jsxs("div",{className:"px-3 py-2 bg-white border border-gray-300 rounded-lg",children:[h.expected_hours," jam"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Istirahat"}),s===h.id?o.jsxs("select",{value:(a.has_break!==void 0?a.has_break:h.has_break)?"true":"false",onChange:y=>l({...a,has_break:y.target.value==="true"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",children:[o.jsx("option",{value:"true",children:"Ada istirahat"}),o.jsx("option",{value:"false",children:"Tanpa istirahat"})]}):o.jsx("div",{className:"px-3 py-2 bg-white border border-gray-300 rounded-lg",children:h.has_break?"Ada istirahat":"Tanpa istirahat"})]})]})]})]})]},h.id))})]})},Ty=()=>{const{employees:t,attendanceRecords:e,loading:n}=Qr(),[r,s]=C.useState(new Date().toISOString().slice(0,7)),[i,a]=C.useState({totalEmployees:0,totalAttendance:0,totalHours:0,totalSalary:0,averageHoursPerEmployee:0,attendanceRate:0,dailyStats:[]});C.useEffect(()=>{l()},[t,e,r]);const l=()=>{const c=e.filter(f=>f.date.startsWith(r)),d=c.reduce((f,g)=>f+(g.calculated_work_hours||0),0),p=c.reduce((f,g)=>f+(g.calculated_salary||0),0),h=c.reduce((f,g)=>{const x=g.date;return f[x]||(f[x]={date:x,attendance:0,hours:0,salary:0}),f[x].attendance+=1,f[x].hours+=g.calculated_work_hours||0,f[x].salary+=g.calculated_salary||0,f},{}),y=Object.values(h).sort((f,g)=>new Date(f.date).getTime()-new Date(g.date).getTime()),w=parseInt(r.split("-")[0]),v=parseInt(r.split("-")[1]),m=new Date(w,v,0).getDate();a({totalEmployees:t.length,totalAttendance:c.length,totalHours:d,totalSalary:p,averageHoursPerEmployee:t.length>0?d/t.length:0,attendanceRate:c.length/(t.length*m)*100,dailyStats:y})},u=()=>{const d=e.filter(v=>v.date.startsWith(r)).map(v=>{var S,m,f,g;return{Tanggal:v.date,"Nama Karyawan":((S=v.employee)==null?void 0:S.name)||"",Email:((m=v.employee)==null?void 0:m.email)||"",Shift:((f=v.shift)==null?void 0:f.name)||"","Jam Masuk 1":v.check_in_1?new Date(v.check_in_1).toLocaleTimeString("id-ID"):"","Jam Keluar 1":v.check_out_1?new Date(v.check_out_1).toLocaleTimeString("id-ID"):"","Jam Masuk 2":v.check_in_2?new Date(v.check_in_2).toLocaleTimeString("id-ID"):"","Jam Keluar 2":v.check_out_2?new Date(v.check_out_2).toLocaleTimeString("id-ID"):"","Total Jam Kerja":((g=v.calculated_work_hours)==null?void 0:g.toFixed(1))||"0",Gaji:v.calculated_salary||0}}),p=[Object.keys(d[0]||{}).join(","),...d.map(v=>Object.values(v).join(","))].join(`
`),h=new Blob([p],{type:"text/csv;charset=utf-8;"}),y=document.createElement("a"),w=URL.createObjectURL(h);y.setAttribute("href",w),y.setAttribute("download",`laporan-absensi-${r}.csv`),y.style.visibility="hidden",document.body.appendChild(y),y.click(),document.body.removeChild(y)};return n?o.jsx("div",{className:"animate-pulse",children:"Loading..."}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Laporan Absensi"}),o.jsx("p",{className:"text-gray-600",children:"Analisis dan laporan komprehensif"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("input",{type:"month",value:r,onChange:c=>s(c.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent"}),o.jsxs("button",{onClick:u,className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[o.jsx(B0,{className:"w-5 h-5"}),o.jsx("span",{children:"Export CSV"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"bg-pink-100 p-3 rounded-lg",children:o.jsx(fl,{className:"w-6 h-6 text-pink-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Karyawan"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.totalEmployees})]})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"bg-pink-100 p-3 rounded-lg",children:o.jsx(ht,{className:"w-6 h-6 text-pink-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Absensi"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.totalAttendance})]})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:o.jsx(st,{className:"w-6 h-6 text-yellow-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Jam Kerja"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.totalHours.toFixed(1)})]})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:o.jsx(ul,{className:"w-6 h-6 text-purple-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Gaji"}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["Rp ",i.totalSalary.toLocaleString("id-ID")]})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistik Kinerja"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"Rata-rata Jam per Karyawan"}),o.jsxs("span",{className:"font-semibold",children:[i.averageHoursPerEmployee.toFixed(1)," jam"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"Tingkat Kehadiran"}),o.jsxs("span",{className:"font-semibold text-green-600",children:[i.attendanceRate.toFixed(1),"%"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"Rata-rata Gaji per Karyawan"}),o.jsxs("span",{className:"font-semibold",children:["Rp ",i.totalEmployees>0?(i.totalSalary/i.totalEmployees).toLocaleString("id-ID"):"0"]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tren Harian"}),o.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:i.dailyStats.map(c=>o.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:new Date(c.date).toLocaleDateString("id-ID",{timeZone:"Asia/Jakarta",weekday:"short",day:"numeric",month:"short"})}),o.jsxs("p",{className:"text-sm text-gray-500",children:[c.attendance," absensi"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-medium text-gray-900",children:[c.hours.toFixed(1)," jam"]}),o.jsxs("p",{className:"text-sm text-green-600",children:["Rp ",c.salary.toLocaleString("id-ID")]})]})]},c.date))})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performa Karyawan"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Karyawan"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Absensi"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Jam"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rata-rata Jam/Hari"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Gaji"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(c=>{const d=e.filter(w=>w.employee_id===c.id&&w.date.startsWith(r)),p=d.reduce((w,v)=>w+(v.calculated_work_hours||0),0),h=d.reduce((w,v)=>w+(v.calculated_salary||0),0),y=d.length>0?p/d.length:0;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.name}),o.jsx("div",{className:"text-sm text-gray-500",children:c.email})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d.length}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[p.toFixed(1)," jam"]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[y.toFixed(1)," jam"]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:["Rp ",h.toLocaleString("id-ID")]})]},c.id)})})]})})]})]})},Py=()=>{const[t,e]=C.useState("dashboard"),n=()=>{switch(t){case"dashboard":return o.jsx(Ku,{});case"employees":return o.jsx(by,{});case"attendance":return o.jsx(Ey,{});case"shifts":return o.jsx(Cy,{});case"reports":return o.jsx(Ty,{});default:return o.jsx(Ku,{})}};return o.jsx(Sy,{activeTab:t,onTabChange:e,children:n()})};function Oy(){const{user:t,loading:e}=Xn();return Th(t==null?void 0:t.id),e?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t?t.email==="admin@admin.com"?o.jsx(Py,{}):o.jsx(jy,{}):o.jsx(vy,{})}sh(document.getElementById("root")).render(o.jsx(C.StrictMode,{children:o.jsx(Oy,{})}));
